var Tt=Object.defineProperty,xt=Object.defineProperties;var $t=Object.getOwnPropertyDescriptors;var We=Object.getOwnPropertySymbols;var Lt=Object.prototype.hasOwnProperty,jt=Object.prototype.propertyIsEnumerable;var Ve=(v,y,F)=>y in v?Tt(v,y,{enumerable:!0,configurable:!0,writable:!0,value:F}):v[y]=F,w=(v,y)=>{for(var F in y||(y={}))Lt.call(y,F)&&Ve(v,F,y[F]);if(We)for(var F of We(y))jt.call(y,F)&&Ve(v,F,y[F]);return v},j=(v,y)=>xt(v,$t(y));(function(v,y){typeof exports=="object"&&typeof module!="undefined"?y(exports,require("solid-js"),require("solid-js/web")):typeof define=="function"&&define.amd?define(["exports","solid-js","solid-js/web"],y):(v=typeof globalThis!="undefined"?globalThis:v||self,y(v.Leva={},v.solidJs,v.web))})(this,function(v,y,F){"use strict";function ae(u,r){return ae=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ae(u,r)}function _(u,r){u.prototype=Object.create(r.prototype),u.prototype.constructor=u,ae(u,r)}var x=function(){function u(){this.listeners=[]}var r=u.prototype;return r.subscribe=function(t){var e=this,n=t||function(){};return this.listeners.push(n),this.onSubscribe(),function(){e.listeners=e.listeners.filter(function(s){return s!==n}),e.onUnsubscribe()}},r.hasListeners=function(){return this.listeners.length>0},r.onSubscribe=function(){},r.onUnsubscribe=function(){},u}();function m(){return m=Object.assign||function(u){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(u[t]=i[t])}return u},m.apply(this,arguments)}var Y=typeof window=="undefined";function M(){}function Xe(u,r){return typeof u=="function"?u(r):u}function oe(u){return typeof u=="number"&&u>=0&&u!==1/0}function Z(u){return Array.isArray(u)?u:[u]}function ge(u,r){return u.filter(function(i){return r.indexOf(i)===-1})}function Ye(u,r,i){var t=u.slice(0);return t[r]=i,t}function Oe(u,r){return Math.max(u+(r||0)-Date.now(),0)}function ce(u,r,i){return ee(u)?typeof r=="function"?m({},i,{queryKey:u,queryFn:r}):m({},r,{queryKey:u}):u}function A(u,r,i){return ee(u)?[m({},r,{queryKey:u}),i]:[u||{},r]}function Ze(u,r){if(u===!0&&r===!0||u==null&&r==null)return"all";if(u===!1&&r===!1)return"none";var i=u!=null?u:!r;return i?"active":"inactive"}function Ce(u,r){var i=u.active,t=u.exact,e=u.fetching,n=u.inactive,s=u.predicate,a=u.queryKey,o=u.stale;if(ee(a)){if(t){if(r.queryHash!==le(a,r.options))return!1}else if(!z(r.queryKey,a))return!1}var l=Ze(i,n);if(l==="none")return!1;if(l!=="all"){var d=r.isActive();if(l==="active"&&!d||l==="inactive"&&d)return!1}return!(typeof o=="boolean"&&r.isStale()!==o||typeof e=="boolean"&&r.isFetching()!==e||s&&!s(r))}function Re(u,r){var i=u.exact,t=u.fetching,e=u.predicate,n=u.mutationKey;if(ee(n)){if(!r.options.mutationKey)return!1;if(i){if(D(r.options.mutationKey)!==D(n))return!1}else if(!z(r.options.mutationKey,n))return!1}return!(typeof t=="boolean"&&r.state.status==="loading"!==t||e&&!e(r))}function le(u,r){var i=(r==null?void 0:r.queryKeyHashFn)||D;return i(u)}function D(u){var r=Z(u);return ze(r)}function ze(u){return JSON.stringify(u,function(r,i){return fe(i)?Object.keys(i).sort().reduce(function(t,e){return t[e]=i[e],t},{}):i})}function z(u,r){return Pe(Z(u),Z(r))}function Pe(u,r){return u===r?!0:typeof u!=typeof r?!1:u&&r&&typeof u=="object"&&typeof r=="object"?!Object.keys(r).some(function(i){return!Pe(u[i],r[i])}):!1}function J(u,r){if(u===r)return u;var i=Array.isArray(u)&&Array.isArray(r);if(i||fe(u)&&fe(r)){for(var t=i?u.length:Object.keys(u).length,e=i?r:Object.keys(r),n=e.length,s=i?[]:{},a=0,o=0;o<n;o++){var l=i?o:e[o];s[l]=J(u[l],r[l]),s[l]===u[l]&&a++}return t===n&&a===t?u:s}return r}function Je(u,r){if(u&&!r||r&&!u)return!1;for(var i in u)if(u[i]!==r[i])return!1;return!0}function fe(u){if(!Qe(u))return!1;var r=u.constructor;if(typeof r=="undefined")return!0;var i=r.prototype;return!(!Qe(i)||!i.hasOwnProperty("isPrototypeOf"))}function Qe(u){return Object.prototype.toString.call(u)==="[object Object]"}function ee(u){return typeof u=="string"||Array.isArray(u)}function et(u){return u instanceof Error}function tt(u){return new Promise(function(r){setTimeout(r,u)})}function Fe(u){Promise.resolve().then(u).catch(function(r){return setTimeout(function(){throw r})})}function Me(){if(typeof AbortController=="function")return new AbortController}var nt=function(u){_(r,u);function r(){var t;return t=u.call(this)||this,t.setup=function(e){var n;if(!Y&&((n=window)==null?void 0:n.addEventListener)){var s=function(){return e()};return window.addEventListener("visibilitychange",s,!1),window.addEventListener("focus",s,!1),function(){window.removeEventListener("visibilitychange",s),window.removeEventListener("focus",s)}}},t}var i=r.prototype;return i.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},i.onUnsubscribe=function(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}},i.setEventListener=function(e){var n,s=this;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(function(a){typeof a=="boolean"?s.setFocused(a):s.onFocus()})},i.setFocused=function(e){this.focused=e,e&&this.onFocus()},i.onFocus=function(){this.listeners.forEach(function(e){e()})},i.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document=="undefined"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},r}(x),N=new nt,rt=function(u){_(r,u);function r(){var t;return t=u.call(this)||this,t.setup=function(e){var n;if(!Y&&((n=window)==null?void 0:n.addEventListener)){var s=function(){return e()};return window.addEventListener("online",s,!1),window.addEventListener("offline",s,!1),function(){window.removeEventListener("online",s),window.removeEventListener("offline",s)}}},t}var i=r.prototype;return i.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},i.onUnsubscribe=function(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}},i.setEventListener=function(e){var n,s=this;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(function(a){typeof a=="boolean"?s.setOnline(a):s.onOnline()})},i.setOnline=function(e){this.online=e,e&&this.onOnline()},i.onOnline=function(){this.listeners.forEach(function(e){e()})},i.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator=="undefined"||typeof navigator.onLine=="undefined"?!0:navigator.onLine},r}(x),k=new rt;function it(u){return Math.min(1e3*Math.pow(2,u),3e4)}function te(u){return typeof(u==null?void 0:u.cancel)=="function"}var he=function(r){this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent};function G(u){return u instanceof he}var qe=function(r){var i=this,t=!1,e,n,s,a;this.abort=r.abort,this.cancel=function(c){return e==null?void 0:e(c)},this.cancelRetry=function(){t=!0},this.continueRetry=function(){t=!1},this.continue=function(){return n==null?void 0:n()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(c,f){s=c,a=f});var o=function(f){i.isResolved||(i.isResolved=!0,r.onSuccess==null||r.onSuccess(f),n==null||n(),s(f))},l=function(f){i.isResolved||(i.isResolved=!0,r.onError==null||r.onError(f),n==null||n(),a(f))},d=function(){return new Promise(function(f){n=f,i.isPaused=!0,r.onPause==null||r.onPause()}).then(function(){n=void 0,i.isPaused=!1,r.onContinue==null||r.onContinue()})},p=function c(){if(!i.isResolved){var f;try{f=r.fn()}catch(h){f=Promise.reject(h)}e=function(b){if(!i.isResolved&&(l(new he(b)),i.abort==null||i.abort(),te(f)))try{f.cancel()}catch{}},i.isTransportCancelable=te(f),Promise.resolve(f).then(o).catch(function(h){var b,R;if(!i.isResolved){var P=(b=r.retry)!=null?b:3,C=(R=r.retryDelay)!=null?R:it,g=typeof C=="function"?C(i.failureCount,h):C,I=P===!0||typeof P=="number"&&i.failureCount<P||typeof P=="function"&&P(i.failureCount,h);if(t||!I){l(h);return}i.failureCount++,r.onFail==null||r.onFail(i.failureCount,h),tt(g).then(function(){if(!N.isFocused()||!k.isOnline())return d()}).then(function(){t?l(h):c()})}})}};p()},ut=function(){function u(){this.queue=[],this.transactions=0,this.notifyFn=function(i){i()},this.batchNotifyFn=function(i){i()}}var r=u.prototype;return r.batch=function(t){this.transactions++;var e=t();return this.transactions--,this.transactions||this.flush(),e},r.schedule=function(t){var e=this;this.transactions?this.queue.push(t):Fe(function(){e.notifyFn(t)})},r.batchCalls=function(t){var e=this;return function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];e.schedule(function(){t.apply(void 0,s)})}},r.flush=function(){var t=this,e=this.queue;this.queue=[],e.length&&Fe(function(){t.batchNotifyFn(function(){e.forEach(function(n){t.notifyFn(n)})})})},r.setNotifyFunction=function(t){this.notifyFn=t},r.setBatchNotifyFunction=function(t){this.batchNotifyFn=t},u}(),O=new ut,Se=console;function ne(){return Se}function Ee(u){Se=u}var st=function(){function u(i){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=i.defaultOptions,this.setOptions(i.options),this.observers=[],this.cache=i.cache,this.queryKey=i.queryKey,this.queryHash=i.queryHash,this.initialState=i.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=i.meta,this.scheduleGc()}var r=u.prototype;return r.setOptions=function(t){var e;this.options=m({},this.defaultOptions,t),this.meta=t==null?void 0:t.meta,this.cacheTime=Math.max(this.cacheTime||0,(e=this.options.cacheTime)!=null?e:5*60*1e3)},r.setDefaultOptions=function(t){this.defaultOptions=t},r.scheduleGc=function(){var t=this;this.clearGcTimeout(),oe(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){t.optionalRemove()},this.cacheTime))},r.clearGcTimeout=function(){clearTimeout(this.gcTimeout),this.gcTimeout=void 0},r.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},r.setData=function(t,e){var n,s,a=this.state.data,o=Xe(t,a);return((n=(s=this.options).isDataEqual)==null?void 0:n.call(s,a,o))?o=a:this.options.structuralSharing!==!1&&(o=J(a,o)),this.dispatch({data:o,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt}),o},r.setState=function(t,e){this.dispatch({type:"setState",state:t,setStateOptions:e})},r.cancel=function(t){var e,n=this.promise;return(e=this.retryer)==null||e.cancel(t),n?n.then(M).catch(M):Promise.resolve()},r.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},r.reset=function(){this.destroy(),this.setState(this.initialState)},r.isActive=function(){return this.observers.some(function(t){return t.options.enabled!==!1})},r.isFetching=function(){return this.state.isFetching},r.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(t){return t.getCurrentResult().isStale})},r.isStaleByTime=function(t){return t===void 0&&(t=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Oe(this.state.dataUpdatedAt,t)},r.onFocus=function(){var t,e=this.observers.find(function(n){return n.shouldFetchOnWindowFocus()});e&&e.refetch(),(t=this.retryer)==null||t.continue()},r.onOnline=function(){var t,e=this.observers.find(function(n){return n.shouldFetchOnReconnect()});e&&e.refetch(),(t=this.retryer)==null||t.continue()},r.addObserver=function(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))},r.removeObserver=function(t){this.observers.indexOf(t)!==-1&&(this.observers=this.observers.filter(function(e){return e!==t}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:t}))},r.getObserversCount=function(){return this.observers.length},r.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},r.fetch=function(t,e){var n=this,s,a,o;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(e==null?void 0:e.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var l;return(l=this.retryer)==null||l.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){var d=this.observers.find(function(C){return C.options.queryFn});d&&this.setOptions(d.options)}var p=Z(this.queryKey),c=Me(),f={queryKey:p,pageParam:void 0,meta:this.meta};Object.defineProperty(f,"signal",{enumerable:!0,get:function(){if(c)return n.abortSignalConsumed=!0,c.signal}});var h=function(){return n.options.queryFn?(n.abortSignalConsumed=!1,n.options.queryFn(f)):Promise.reject("Missing queryFn")},b={fetchOptions:e,options:this.options,queryKey:p,state:this.state,fetchFn:h,meta:this.meta};if((s=this.options.behavior)==null?void 0:s.onFetch){var R;(R=this.options.behavior)==null||R.onFetch(b)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=b.fetchOptions)==null?void 0:a.meta)){var P;this.dispatch({type:"fetch",meta:(P=b.fetchOptions)==null?void 0:P.meta})}return this.retryer=new qe({fn:b.fetchFn,abort:c==null||(o=c.abort)==null?void 0:o.bind(c),onSuccess:function(g){n.setData(g),n.cache.config.onSuccess==null||n.cache.config.onSuccess(g,n),n.cacheTime===0&&n.optionalRemove()},onError:function(g){G(g)&&g.silent||n.dispatch({type:"error",error:g}),G(g)||(n.cache.config.onError==null||n.cache.config.onError(g,n),ne().error(g)),n.cacheTime===0&&n.optionalRemove()},onFail:function(){n.dispatch({type:"failed"})},onPause:function(){n.dispatch({type:"pause"})},onContinue:function(){n.dispatch({type:"continue"})},retry:b.options.retry,retryDelay:b.options.retryDelay}),this.promise=this.retryer.promise,this.promise},r.dispatch=function(t){var e=this;this.state=this.reducer(this.state,t),O.batch(function(){e.observers.forEach(function(n){n.onQueryUpdate(t)}),e.cache.notify({query:e,type:"queryUpdated",action:t})})},r.getDefaultState=function(t){var e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof t.initialData!="undefined",s=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0,a=typeof e!="undefined";return{data:e,dataUpdateCount:0,dataUpdatedAt:a?s!=null?s:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},r.reducer=function(t,e){var n,s;switch(e.type){case"failed":return m({},t,{fetchFailureCount:t.fetchFailureCount+1});case"pause":return m({},t,{isPaused:!0});case"continue":return m({},t,{isPaused:!1});case"fetch":return m({},t,{fetchFailureCount:0,fetchMeta:(n=e.meta)!=null?n:null,isFetching:!0,isPaused:!1},!t.dataUpdatedAt&&{error:null,status:"loading"});case"success":return m({},t,{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:(s=e.dataUpdatedAt)!=null?s:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=e.error;return G(a)&&a.revert&&this.revertState?m({},this.revertState):m({},t,{error:a,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return m({},t,{isInvalidated:!0});case"setState":return m({},t,e.state);default:return t}},u}(),we=function(u){_(r,u);function r(t){var e;return e=u.call(this)||this,e.config=t||{},e.queries=[],e.queriesMap={},e}var i=r.prototype;return i.build=function(e,n,s){var a,o=n.queryKey,l=(a=n.queryHash)!=null?a:le(o,n),d=this.get(l);return d||(d=new st({cache:this,queryKey:o,queryHash:l,options:e.defaultQueryOptions(n),state:s,defaultOptions:e.getQueryDefaults(o),meta:n.meta}),this.add(d)),d},i.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},i.remove=function(e){var n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(function(s){return s!==e}),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},i.clear=function(){var e=this;O.batch(function(){e.queries.forEach(function(n){e.remove(n)})})},i.get=function(e){return this.queriesMap[e]},i.getAll=function(){return this.queries},i.find=function(e,n){var s=A(e,n),a=s[0];return typeof a.exact=="undefined"&&(a.exact=!0),this.queries.find(function(o){return Ce(a,o)})},i.findAll=function(e,n){var s=A(e,n),a=s[0];return Object.keys(a).length>0?this.queries.filter(function(o){return Ce(a,o)}):this.queries},i.notify=function(e){var n=this;O.batch(function(){n.listeners.forEach(function(s){s(e)})})},i.onFocus=function(){var e=this;O.batch(function(){e.queries.forEach(function(n){n.onFocus()})})},i.onOnline=function(){var e=this;O.batch(function(){e.queries.forEach(function(n){n.onOnline()})})},r}(x),at=function(){function u(i){this.options=m({},i.defaultOptions,i.options),this.mutationId=i.mutationId,this.mutationCache=i.mutationCache,this.observers=[],this.state=i.state||_e(),this.meta=i.meta}var r=u.prototype;return r.setState=function(t){this.dispatch({type:"setState",state:t})},r.addObserver=function(t){this.observers.indexOf(t)===-1&&this.observers.push(t)},r.removeObserver=function(t){this.observers=this.observers.filter(function(e){return e!==t})},r.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(M).catch(M)):Promise.resolve()},r.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},r.execute=function(){var t=this,e,n=this.state.status==="loading",s=Promise.resolve();return n||(this.dispatch({type:"loading",variables:this.options.variables}),s=s.then(function(){t.mutationCache.config.onMutate==null||t.mutationCache.config.onMutate(t.state.variables,t)}).then(function(){return t.options.onMutate==null?void 0:t.options.onMutate(t.state.variables)}).then(function(a){a!==t.state.context&&t.dispatch({type:"loading",context:a,variables:t.state.variables})})),s.then(function(){return t.executeMutation()}).then(function(a){e=a,t.mutationCache.config.onSuccess==null||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)}).then(function(){return t.options.onSuccess==null?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)}).then(function(){return t.options.onSettled==null?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)}).then(function(){return t.dispatch({type:"success",data:e}),e}).catch(function(a){return t.mutationCache.config.onError==null||t.mutationCache.config.onError(a,t.state.variables,t.state.context,t),ne().error(a),Promise.resolve().then(function(){return t.options.onError==null?void 0:t.options.onError(a,t.state.variables,t.state.context)}).then(function(){return t.options.onSettled==null?void 0:t.options.onSettled(void 0,a,t.state.variables,t.state.context)}).then(function(){throw t.dispatch({type:"error",error:a}),a})})},r.executeMutation=function(){var t=this,e;return this.retryer=new qe({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:(e=this.options.retry)!=null?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},r.dispatch=function(t){var e=this;this.state=ot(this.state,t),O.batch(function(){e.observers.forEach(function(n){n.onMutationUpdate(t)}),e.mutationCache.notify(e)})},u}();function _e(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function ot(u,r){switch(r.type){case"failed":return m({},u,{failureCount:u.failureCount+1});case"pause":return m({},u,{isPaused:!0});case"continue":return m({},u,{isPaused:!1});case"loading":return m({},u,{context:r.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:r.variables});case"success":return m({},u,{data:r.data,error:null,status:"success",isPaused:!1});case"error":return m({},u,{data:void 0,error:r.error,failureCount:u.failureCount+1,isPaused:!1,status:"error"});case"setState":return m({},u,r.state);default:return u}}var Ae=function(u){_(r,u);function r(t){var e;return e=u.call(this)||this,e.config=t||{},e.mutations=[],e.mutationId=0,e}var i=r.prototype;return i.build=function(e,n,s){var a=new at({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:s,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0,meta:n.meta});return this.add(a),a},i.add=function(e){this.mutations.push(e),this.notify(e)},i.remove=function(e){this.mutations=this.mutations.filter(function(n){return n!==e}),e.cancel(),this.notify(e)},i.clear=function(){var e=this;O.batch(function(){e.mutations.forEach(function(n){e.remove(n)})})},i.getAll=function(){return this.mutations},i.find=function(e){return typeof e.exact=="undefined"&&(e.exact=!0),this.mutations.find(function(n){return Re(e,n)})},i.findAll=function(e){return this.mutations.filter(function(n){return Re(e,n)})},i.notify=function(e){var n=this;O.batch(function(){n.listeners.forEach(function(s){s(e)})})},i.onFocus=function(){this.resumePausedMutations()},i.onOnline=function(){this.resumePausedMutations()},i.resumePausedMutations=function(){var e=this.mutations.filter(function(n){return n.state.isPaused});return O.batch(function(){return e.reduce(function(n,s){return n.then(function(){return s.continue().catch(M)})},Promise.resolve())})},r}(x);function de(){return{onFetch:function(r){r.fetchFn=function(){var i,t,e,n,s,a,o=(i=r.fetchOptions)==null||(t=i.meta)==null?void 0:t.refetchPage,l=(e=r.fetchOptions)==null||(n=e.meta)==null?void 0:n.fetchMore,d=l==null?void 0:l.pageParam,p=(l==null?void 0:l.direction)==="forward",c=(l==null?void 0:l.direction)==="backward",f=((s=r.state.data)==null?void 0:s.pages)||[],h=((a=r.state.data)==null?void 0:a.pageParams)||[],b=Me(),R=b==null?void 0:b.signal,P=h,C=!1,g=r.options.queryFn||function(){return Promise.reject("Missing queryFn")},I=function(K,B,E,X){return P=X?[B].concat(P):[].concat(P,[B]),X?[E].concat(K):[].concat(K,[E])},U=function(K,B,E,X){if(C)return Promise.reject("Cancelled");if(typeof E=="undefined"&&!B&&K.length)return Promise.resolve(K);var T={queryKey:r.queryKey,signal:R,pageParam:E,meta:r.meta},L=g(T),se=Promise.resolve(L).then(function(Kt){return I(K,E,Kt,X)});if(te(L)){var be=se;be.cancel=L.cancel}return se},Q;if(!f.length)Q=U([]);else if(p){var V=typeof d!="undefined",pe=V?d:ve(r.options,f);Q=U(f,V,pe)}else if(c){var ie=typeof d!="undefined",ue=ie?d:De(r.options,f);Q=U(f,ie,ue,!0)}else(function(){P=[];var q=typeof r.options.getNextPageParam=="undefined",K=o&&f[0]?o(f[0],0,f):!0;Q=K?U([],q,h[0]):Promise.resolve(I([],h[0],f[0]));for(var B=function(T){Q=Q.then(function(L){var se=o&&f[T]?o(f[T],T,f):!0;if(se){var be=q?h[T]:ve(r.options,L);return U(L,q,be)}return Promise.resolve(I(L,h[T],f[T]))})},E=1;E<f.length;E++)B(E)})();var S=Q.then(function(q){return{pages:q,pageParams:P}}),me=S;return me.cancel=function(){C=!0,b==null||b.abort(),te(Q)&&Q.cancel()},S}}}}function ve(u,r){return u.getNextPageParam==null?void 0:u.getNextPageParam(r[r.length-1],r)}function De(u,r){return u.getPreviousPageParam==null?void 0:u.getPreviousPageParam(r[0],r)}function ct(u,r){if(u.getNextPageParam&&Array.isArray(r)){var i=ve(u,r);return typeof i!="undefined"&&i!==null&&i!==!1}}function lt(u,r){if(u.getPreviousPageParam&&Array.isArray(r)){var i=De(u,r);return typeof i!="undefined"&&i!==null&&i!==!1}}var ft=function(){function u(i){i===void 0&&(i={}),this.queryCache=i.queryCache||new we,this.mutationCache=i.mutationCache||new Ae,this.defaultOptions=i.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var r=u.prototype;return r.mount=function(){var t=this;this.unsubscribeFocus=N.subscribe(function(){N.isFocused()&&k.isOnline()&&(t.mutationCache.onFocus(),t.queryCache.onFocus())}),this.unsubscribeOnline=k.subscribe(function(){N.isFocused()&&k.isOnline()&&(t.mutationCache.onOnline(),t.queryCache.onOnline())})},r.unmount=function(){var t,e;(t=this.unsubscribeFocus)==null||t.call(this),(e=this.unsubscribeOnline)==null||e.call(this)},r.isFetching=function(t,e){var n=A(t,e),s=n[0];return s.fetching=!0,this.queryCache.findAll(s).length},r.isMutating=function(t){return this.mutationCache.findAll(m({},t,{fetching:!0})).length},r.getQueryData=function(t,e){var n;return(n=this.queryCache.find(t,e))==null?void 0:n.state.data},r.getQueriesData=function(t){return this.getQueryCache().findAll(t).map(function(e){var n=e.queryKey,s=e.state,a=s.data;return[n,a]})},r.setQueryData=function(t,e,n){var s=ce(t),a=this.defaultQueryOptions(s);return this.queryCache.build(this,a).setData(e,n)},r.setQueriesData=function(t,e,n){var s=this;return O.batch(function(){return s.getQueryCache().findAll(t).map(function(a){var o=a.queryKey;return[o,s.setQueryData(o,e,n)]})})},r.getQueryState=function(t,e){var n;return(n=this.queryCache.find(t,e))==null?void 0:n.state},r.removeQueries=function(t,e){var n=A(t,e),s=n[0],a=this.queryCache;O.batch(function(){a.findAll(s).forEach(function(o){a.remove(o)})})},r.resetQueries=function(t,e,n){var s=this,a=A(t,e,n),o=a[0],l=a[1],d=this.queryCache,p=m({},o,{active:!0});return O.batch(function(){return d.findAll(o).forEach(function(c){c.reset()}),s.refetchQueries(p,l)})},r.cancelQueries=function(t,e,n){var s=this,a=A(t,e,n),o=a[0],l=a[1],d=l===void 0?{}:l;typeof d.revert=="undefined"&&(d.revert=!0);var p=O.batch(function(){return s.queryCache.findAll(o).map(function(c){return c.cancel(d)})});return Promise.all(p).then(M).catch(M)},r.invalidateQueries=function(t,e,n){var s,a,o,l=this,d=A(t,e,n),p=d[0],c=d[1],f=m({},p,{active:(s=(a=p.refetchActive)!=null?a:p.active)!=null?s:!0,inactive:(o=p.refetchInactive)!=null?o:!1});return O.batch(function(){return l.queryCache.findAll(p).forEach(function(h){h.invalidate()}),l.refetchQueries(f,c)})},r.refetchQueries=function(t,e,n){var s=this,a=A(t,e,n),o=a[0],l=a[1],d=O.batch(function(){return s.queryCache.findAll(o).map(function(c){return c.fetch(void 0,m({},l,{meta:{refetchPage:o==null?void 0:o.refetchPage}}))})}),p=Promise.all(d).then(M);return(l==null?void 0:l.throwOnError)||(p=p.catch(M)),p},r.fetchQuery=function(t,e,n){var s=ce(t,e,n),a=this.defaultQueryOptions(s);typeof a.retry=="undefined"&&(a.retry=!1);var o=this.queryCache.build(this,a);return o.isStaleByTime(a.staleTime)?o.fetch(a):Promise.resolve(o.state.data)},r.prefetchQuery=function(t,e,n){return this.fetchQuery(t,e,n).then(M).catch(M)},r.fetchInfiniteQuery=function(t,e,n){var s=ce(t,e,n);return s.behavior=de(),this.fetchQuery(s)},r.prefetchInfiniteQuery=function(t,e,n){return this.fetchInfiniteQuery(t,e,n).then(M).catch(M)},r.cancelMutations=function(){var t=this,e=O.batch(function(){return t.mutationCache.getAll().map(function(n){return n.cancel()})});return Promise.all(e).then(M).catch(M)},r.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},r.executeMutation=function(t){return this.mutationCache.build(this,t).execute()},r.getQueryCache=function(){return this.queryCache},r.getMutationCache=function(){return this.mutationCache},r.getDefaultOptions=function(){return this.defaultOptions},r.setDefaultOptions=function(t){this.defaultOptions=t},r.setQueryDefaults=function(t,e){var n=this.queryDefaults.find(function(s){return D(t)===D(s.queryKey)});n?n.defaultOptions=e:this.queryDefaults.push({queryKey:t,defaultOptions:e})},r.getQueryDefaults=function(t){var e;return t?(e=this.queryDefaults.find(function(n){return z(t,n.queryKey)}))==null?void 0:e.defaultOptions:void 0},r.setMutationDefaults=function(t,e){var n=this.mutationDefaults.find(function(s){return D(t)===D(s.mutationKey)});n?n.defaultOptions=e:this.mutationDefaults.push({mutationKey:t,defaultOptions:e})},r.getMutationDefaults=function(t){var e;return t?(e=this.mutationDefaults.find(function(n){return z(t,n.mutationKey)}))==null?void 0:e.defaultOptions:void 0},r.defaultQueryOptions=function(t){if(t==null?void 0:t._defaulted)return t;var e=m({},this.defaultOptions.queries,this.getQueryDefaults(t==null?void 0:t.queryKey),t,{_defaulted:!0});return!e.queryHash&&e.queryKey&&(e.queryHash=le(e.queryKey,e)),e},r.defaultQueryObserverOptions=function(t){return this.defaultQueryOptions(t)},r.defaultMutationOptions=function(t){return(t==null?void 0:t._defaulted)?t:m({},this.defaultOptions.mutations,this.getMutationDefaults(t==null?void 0:t.mutationKey),t,{_defaulted:!0})},r.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},u}(),re=function(u){_(r,u);function r(t,e){var n;return n=u.call(this)||this,n.client=t,n.options=e,n.trackedProps=[],n.previousSelectError=null,n.bindMethods(),n.setOptions(e),n}var i=r.prototype;return i.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},i.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Ie(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},i.onUnsubscribe=function(){this.listeners.length||this.destroy()},i.shouldFetchOnReconnect=function(){return vt(this.currentQuery,this.options)},i.shouldFetchOnWindowFocus=function(){return yt(this.currentQuery,this.options)},i.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},i.setOptions=function(e,n){var s=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),typeof this.options.enabled!="undefined"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=s.queryKey),this.updateQuery();var o=this.hasListeners();o&&Ue(this.currentQuery,a,this.options,s)&&this.executeFetch(),this.updateResult(n),o&&(this.currentQuery!==a||this.options.enabled!==s.enabled||this.options.staleTime!==s.staleTime)&&this.updateStaleTimeout();var l=this.computeRefetchInterval();o&&(this.currentQuery!==a||this.options.enabled!==s.enabled||l!==this.currentRefetchInterval)&&this.updateRefetchInterval(l)},i.getOptimisticResult=function(e){var n=this.client.defaultQueryObserverOptions(e),s=this.client.getQueryCache().build(this.client,n);return this.createResult(s,n)},i.getCurrentResult=function(){return this.currentResult},i.trackResult=function(e,n){var s=this,a={},o=function(d){s.trackedProps.includes(d)||s.trackedProps.push(d)};return Object.keys(e).forEach(function(l){Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:function(){return o(l),e[l]}})}),(n.useErrorBoundary||n.suspense)&&o("error"),a},i.getNextResult=function(e){var n=this;return new Promise(function(s,a){var o=n.subscribe(function(l){l.isFetching||(o(),l.isError&&(e==null?void 0:e.throwOnError)?a(l.error):s(l))})})},i.getCurrentQuery=function(){return this.currentQuery},i.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},i.refetch=function(e){return this.fetch(m({},e,{meta:{refetchPage:e==null?void 0:e.refetchPage}}))},i.fetchOptimistic=function(e){var n=this,s=this.client.defaultQueryObserverOptions(e),a=this.client.getQueryCache().build(this.client,s);return a.fetch().then(function(){return n.createResult(a,s)})},i.fetch=function(e){var n=this;return this.executeFetch(e).then(function(){return n.updateResult(),n.currentResult})},i.executeFetch=function(e){this.updateQuery();var n=this.currentQuery.fetch(this.options,e);return(e==null?void 0:e.throwOnError)||(n=n.catch(M)),n},i.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!(Y||this.currentResult.isStale||!oe(this.options.staleTime))){var n=Oe(this.currentResult.dataUpdatedAt,this.options.staleTime),s=n+1;this.staleTimeoutId=setTimeout(function(){e.currentResult.isStale||e.updateResult()},s)}},i.computeRefetchInterval=function(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1},i.updateRefetchInterval=function(e){var n=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Y||this.options.enabled===!1||!oe(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(n.options.refetchIntervalInBackground||N.isFocused())&&n.executeFetch()},this.currentRefetchInterval))},i.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},i.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},i.clearStaleTimeout=function(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0},i.clearRefetchInterval=function(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0},i.createResult=function(e,n){var s=this.currentQuery,a=this.options,o=this.currentResult,l=this.currentResultState,d=this.currentResultOptions,p=e!==s,c=p?e.state:this.currentQueryInitialState,f=p?this.currentResult:this.previousQueryResult,h=e.state,b=h.dataUpdatedAt,R=h.error,P=h.errorUpdatedAt,C=h.isFetching,g=h.status,I=!1,U=!1,Q;if(n.optimisticResults){var V=this.hasListeners(),pe=!V&&Ie(e,n),ie=V&&Ue(e,s,n,a);(pe||ie)&&(C=!0,b||(g="loading"))}if(n.keepPreviousData&&!h.dataUpdateCount&&(f==null?void 0:f.isSuccess)&&g!=="error")Q=f.data,b=f.dataUpdatedAt,g=f.status,I=!0;else if(n.select&&typeof h.data!="undefined"){var ue;if(o&&h.data===(l==null?void 0:l.data)&&n.select===((ue=this.previousSelect)==null?void 0:ue.fn)&&!this.previousSelectError)Q=this.previousSelect.result;else try{Q=n.select(h.data),n.structuralSharing!==!1&&(Q=J(o==null?void 0:o.data,Q)),this.previousSelect={fn:n.select,result:Q},this.previousSelectError=null}catch(q){ne().error(q),R=q,this.previousSelectError=q,P=Date.now(),g="error"}}else Q=h.data;if(typeof n.placeholderData!="undefined"&&typeof Q=="undefined"&&(g==="loading"||g==="idle")){var S;if((o==null?void 0:o.isPlaceholderData)&&n.placeholderData===(d==null?void 0:d.placeholderData))S=o.data;else if(S=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof S!="undefined")try{S=n.select(S),n.structuralSharing!==!1&&(S=J(o==null?void 0:o.data,S)),this.previousSelectError=null}catch(q){ne().error(q),R=q,this.previousSelectError=q,P=Date.now(),g="error"}typeof S!="undefined"&&(g="success",Q=S,U=!0)}var me={status:g,isLoading:g==="loading",isSuccess:g==="success",isError:g==="error",isIdle:g==="idle",data:Q,dataUpdatedAt:b,error:R,errorUpdatedAt:P,failureCount:h.fetchFailureCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:C,isRefetching:C&&g!=="loading",isLoadingError:g==="error"&&h.dataUpdatedAt===0,isPlaceholderData:U,isPreviousData:I,isRefetchError:g==="error"&&h.dataUpdatedAt!==0,isStale:W(e,n),refetch:this.refetch,remove:this.remove};return me},i.shouldNotifyListeners=function(e,n){if(!n)return!0;var s=this.options,a=s.notifyOnChangeProps,o=s.notifyOnChangePropsExclusions;if(!a&&!o||a==="tracked"&&!this.trackedProps.length)return!0;var l=a==="tracked"?this.trackedProps:a;return Object.keys(e).some(function(d){var p=d,c=e[p]!==n[p],f=l==null?void 0:l.some(function(b){return b===d}),h=o==null?void 0:o.some(function(b){return b===d});return c&&!h&&(!l||f)})},i.updateResult=function(e){var n=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Je(this.currentResult,n)){var s={cache:!0};(e==null?void 0:e.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,n)&&(s.listeners=!0),this.notify(m({},s,e))}},i.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))}},i.onQueryUpdate=function(e){var n={};e.type==="success"?n.onSuccess=!0:e.type==="error"&&!G(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()},i.notify=function(e){var n=this;O.batch(function(){e.onSuccess?(n.options.onSuccess==null||n.options.onSuccess(n.currentResult.data),n.options.onSettled==null||n.options.onSettled(n.currentResult.data,null)):e.onError&&(n.options.onError==null||n.options.onError(n.currentResult.error),n.options.onSettled==null||n.options.onSettled(void 0,n.currentResult.error)),e.listeners&&n.listeners.forEach(function(s){s(n.currentResult)}),e.cache&&n.client.getQueryCache().notify({query:n.currentQuery,type:"observerResultsUpdated"})})},r}(x);function ht(u,r){return r.enabled!==!1&&!u.state.dataUpdatedAt&&!(u.state.status==="error"&&r.retryOnMount===!1)}function dt(u,r){return r.enabled!==!1&&u.state.dataUpdatedAt>0&&(r.refetchOnMount==="always"||r.refetchOnMount!==!1&&W(u,r))}function Ie(u,r){return ht(u,r)||dt(u,r)}function vt(u,r){return r.enabled!==!1&&(r.refetchOnReconnect==="always"||r.refetchOnReconnect!==!1&&W(u,r))}function yt(u,r){return r.enabled!==!1&&(r.refetchOnWindowFocus==="always"||r.refetchOnWindowFocus!==!1&&W(u,r))}function Ue(u,r,i,t){return i.enabled!==!1&&(u!==r||t.enabled===!1)&&(!i.suspense||u.state.status!=="error")&&W(u,i)}function W(u,r){return u.isStaleByTime(r.staleTime)}var Ke=function(u){_(r,u);function r(t,e){var n;return n=u.call(this)||this,n.client=t,n.queries=[],n.result=[],n.observers=[],n.observersMap={},e&&n.setQueries(e),n}var i=r.prototype;return i.onSubscribe=function(){var e=this;this.listeners.length===1&&this.observers.forEach(function(n){n.subscribe(function(s){e.onUpdate(n,s)})})},i.onUnsubscribe=function(){this.listeners.length||this.destroy()},i.destroy=function(){this.listeners=[],this.observers.forEach(function(e){e.destroy()})},i.setQueries=function(e,n){this.queries=e,this.updateObservers(n)},i.getCurrentResult=function(){return this.result},i.getOptimisticResult=function(e){return this.findMatchingObservers(e).map(function(n){return n.observer.getOptimisticResult(n.defaultedQueryOptions)})},i.findMatchingObservers=function(e){var n=this,s=this.observers,a=e.map(function(h){return n.client.defaultQueryObserverOptions(h)}),o=a.flatMap(function(h){var b=s.find(function(R){return R.options.queryHash===h.queryHash});return b!=null?[{defaultedQueryOptions:h,observer:b}]:[]}),l=o.map(function(h){return h.defaultedQueryOptions.queryHash}),d=a.filter(function(h){return!l.includes(h.queryHash)}),p=s.filter(function(h){return!o.some(function(b){return b.observer===h})}),c=d.map(function(h,b){if(h.keepPreviousData){var R=p[b];if(R!==void 0)return{defaultedQueryOptions:h,observer:R}}return{defaultedQueryOptions:h,observer:n.getObserver(h)}}),f=function(b,R){return a.indexOf(b.defaultedQueryOptions)-a.indexOf(R.defaultedQueryOptions)};return o.concat(c).sort(f)},i.getObserver=function(e){var n=this.client.defaultQueryObserverOptions(e),s=this.observersMap[n.queryHash];return s!=null?s:new re(this.client,n)},i.updateObservers=function(e){var n=this;O.batch(function(){var s=n.observers,a=n.findMatchingObservers(n.queries);a.forEach(function(c){return c.observer.setOptions(c.defaultedQueryOptions,e)});var o=a.map(function(c){return c.observer}),l=Object.fromEntries(o.map(function(c){return[c.options.queryHash,c]})),d=o.map(function(c){return c.getCurrentResult()}),p=o.some(function(c,f){return c!==s[f]});s.length===o.length&&!p||(n.observers=o,n.observersMap=l,n.result=d,!!n.hasListeners()&&(ge(s,o).forEach(function(c){c.destroy()}),ge(o,s).forEach(function(c){c.subscribe(function(f){n.onUpdate(c,f)})}),n.notify()))})},i.onUpdate=function(e,n){var s=this.observers.indexOf(e);s!==-1&&(this.result=Ye(this.result,s,n),this.notify())},i.notify=function(){var e=this;O.batch(function(){e.listeners.forEach(function(n){n(e.result)})})},r}(x),Te=function(u){_(r,u);function r(t,e){return u.call(this,t,e)||this}var i=r.prototype;return i.bindMethods=function(){u.prototype.bindMethods.call(this),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)},i.setOptions=function(e,n){u.prototype.setOptions.call(this,m({},e,{behavior:de()}),n)},i.getOptimisticResult=function(e){return e.behavior=de(),u.prototype.getOptimisticResult.call(this,e)},i.fetchNextPage=function(e){var n;return this.fetch({cancelRefetch:(n=e==null?void 0:e.cancelRefetch)!=null?n:!0,throwOnError:e==null?void 0:e.throwOnError,meta:{fetchMore:{direction:"forward",pageParam:e==null?void 0:e.pageParam}}})},i.fetchPreviousPage=function(e){var n;return this.fetch({cancelRefetch:(n=e==null?void 0:e.cancelRefetch)!=null?n:!0,throwOnError:e==null?void 0:e.throwOnError,meta:{fetchMore:{direction:"backward",pageParam:e==null?void 0:e.pageParam}}})},i.createResult=function(e,n){var s,a,o,l,d,p,c=e.state,f=u.prototype.createResult.call(this,e,n);return m({},f,{fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:ct(n,(s=c.data)==null?void 0:s.pages),hasPreviousPage:lt(n,(a=c.data)==null?void 0:a.pages),isFetchingNextPage:c.isFetching&&((o=c.fetchMeta)==null||(l=o.fetchMore)==null?void 0:l.direction)==="forward",isFetchingPreviousPage:c.isFetching&&((d=c.fetchMeta)==null||(p=d.fetchMore)==null?void 0:p.direction)==="backward"})},r}(re),xe=function(u){_(r,u);function r(t,e){var n;return n=u.call(this)||this,n.client=t,n.setOptions(e),n.bindMethods(),n.updateResult(),n}var i=r.prototype;return i.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},i.setOptions=function(e){this.options=this.client.defaultMutationOptions(e)},i.onUnsubscribe=function(){if(!this.listeners.length){var e;(e=this.currentMutation)==null||e.removeObserver(this)}},i.onMutationUpdate=function(e){this.updateResult();var n={listeners:!0};e.type==="success"?n.onSuccess=!0:e.type==="error"&&(n.onError=!0),this.notify(n)},i.getCurrentResult=function(){return this.currentResult},i.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},i.mutate=function(e,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,m({},this.options,{variables:typeof e!="undefined"?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},i.updateResult=function(){var e=this.currentMutation?this.currentMutation.state:_e(),n=m({},e,{isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=n},i.notify=function(e){var n=this;O.batch(function(){n.mutateOptions&&(e.onSuccess?(n.mutateOptions.onSuccess==null||n.mutateOptions.onSuccess(n.currentResult.data,n.currentResult.variables,n.currentResult.context),n.mutateOptions.onSettled==null||n.mutateOptions.onSettled(n.currentResult.data,null,n.currentResult.variables,n.currentResult.context)):e.onError&&(n.mutateOptions.onError==null||n.mutateOptions.onError(n.currentResult.error,n.currentResult.variables,n.currentResult.context),n.mutateOptions.onSettled==null||n.mutateOptions.onSettled(void 0,n.currentResult.error,n.currentResult.variables,n.currentResult.context))),e.listeners&&n.listeners.forEach(function(s){s(n.currentResult)})})},r}(x);function pt(u){return{mutationKey:u.options.mutationKey,state:u.state}}function mt(u){return{state:u.state,queryKey:u.queryKey,queryHash:u.queryHash}}function bt(u){return u.state.isPaused}function gt(u){return u.state.status==="success"}function Ot(u,r){var i,t;r=r||{};var e=[],n=[];if(((i=r)==null?void 0:i.dehydrateMutations)!==!1){var s=r.shouldDehydrateMutation||bt;u.getMutationCache().getAll().forEach(function(o){s(o)&&e.push(pt(o))})}if(((t=r)==null?void 0:t.dehydrateQueries)!==!1){var a=r.shouldDehydrateQuery||gt;u.getQueryCache().getAll().forEach(function(o){a(o)&&n.push(mt(o))})}return{mutations:e,queries:n}}function $e(u,r,i){if(!(typeof r!="object"||r===null)){var t=u.getMutationCache(),e=u.getQueryCache(),n=r.mutations||[],s=r.queries||[];n.forEach(function(a){var o;t.build(u,m({},i==null||(o=i.defaultOptions)==null?void 0:o.mutations,{mutationKey:a.mutationKey}),a.state)}),s.forEach(function(a){var o,l=e.get(a.queryHash);if(l){l.state.dataUpdatedAt<a.state.dataUpdatedAt&&l.setState(a.state);return}e.build(u,m({},i==null||(o=i.defaultOptions)==null?void 0:o.queries,{queryKey:a.queryKey,queryHash:a.queryHash}),a.state)})}}O.setBatchNotifyFunction(y.batch),Ee(console);const Ct=y.createContext(void 0),Le=y.createContext(!1);function je(u){return Ct}const $=()=>{const u=y.useContext(je(y.useContext(Le)));if(!u)throw new Error("No QueryClient set, use QueryClientProvider to set one");return u},Rt=u=>{u=y.mergeProps({},{contextSharing:!1},u),y.createEffect(()=>{u.client.mount(),y.onCleanup(()=>{u.client.unmount()})});const r=je(u.contextSharing);return F.createComponent(Le.Provider,{get value(){return u.contextSharing},get children(){return F.createComponent(r.Provider,{get value(){return u.client},get children(){return u.children}})}})};function Ne(){let u=!1;return{clearReset:()=>{u=!1},reset:()=>{u=!0},isReset:()=>u}}const He=y.createContext(Ne()),Be=()=>y.useContext(He),Pt=u=>{const r=y.createMemo(()=>Ne());return F.createComponent(He.Provider,{get value(){return r()},get children(){return F.memo(()=>typeof u.children=="function",!0)()?u.children(r):u.children}})};function Qt(){}function Ft(u,r,i){return ye(u)?typeof r=="function"?j(w({},i),{mutationKey:u,mutationFn:r}):j(w({},r),{mutationKey:u}):typeof u=="function"?j(w({},r),{mutationFn:u}):w({},u)}function Mt(u,r,i){return ye(u)?[j(w({},r),{queryKey:u}),i]:[u||{},r]}function qt(u,r){return ye(u)?j(w({},r),{mutationKey:u}):u}function ye(u){return typeof u=="string"||Array.isArray(u)}function St(u,r,i){return typeof r=="function"?r(i):typeof r=="boolean"?r:!!u}function H(u=null){return{current:u}}function Et(u,r){const i=H(!1),t=$(),[e]=Mt(u,r),[n,s]=y.createSignal(t.isFetching(e));return y.createEffect(()=>{i.current=!0;const a=t.getQueryCache().subscribe(O.batchCalls(()=>{if(i.current){const o=t.isFetching(e);n()!==o&&s(o)}}));return()=>{i.current=!1,a()}},[t]),n}function wt(u,r){const i=H(!1),t=qt(u,r),e=$(),[n,s]=y.createSignal(e.isMutating(t));return y.createEffect(()=>{i.current=!0;const a=e.getMutationCache().subscribe(O.batchCalls(()=>{if(i.current){const o=e.isMutating(t);n()!==o&&s(o)}}));return()=>{i.current=!1,a()}},[e]),n}function _t(u,r,i){const t=H(!1),[,e]=y.createSignal(0),n=Ft(u,r,i),s=$(),a=H();a.current?a.current.setOptions(n):a.current=new xe(s,n);const o=a.current.getCurrentResult();y.createEffect(()=>{t.current=!0;const d=a.current.subscribe(O.batchCalls(()=>{t.current&&e(p=>p+1)}));return()=>{t.current=!1,d()}},[]);const l=(d,p)=>{a.current.mutate(d,p).catch(Qt)};if(o.error&&St(void 0,a.current.options.useErrorBoundary,o.error))throw o.error;return j(w({},o),{mutate:l,mutateAsync:o.mutate})}function ke(u,r){const i=H(!1),t=$(),e=Be(),[n,s]=y.createSignal(u);y.createComputed(()=>{u.queryKey=typeof u.queryKeySignal=="function"?u.queryKeySignal():u.queryKeySignal,console.log(u.queryKey);let c=t.defaultQueryObserverOptions(u);c.optimisticResults=!0,c.onError&&(c.onError=O.batchCalls(c.onError)),c.onSuccess&&(c.onSuccess=O.batchCalls(c.onSuccess)),c.onSettled&&(c.onSettled=O.batchCalls(c.onSettled)),c.suspense&&(typeof c.staleTime!="number"&&(c.staleTime=1e3),c.cacheTime===0&&(c.cacheTime=1)),(c.suspense||c.useErrorBoundary)&&(e.isReset()||(c.retryOnMount=!1)),s(c)});const a=y.createMemo(()=>new r(t,n())),o=()=>a().getOptimisticResult(n()),[l,{refetch:d,mutate:p}]=y.createResource(()=>n().queryKey,()=>{let c=o();if(console.log("heree",c),c.data)return c.data;let f,h;const b=new Promise((C,g)=>{f=C,h=g});let R=a();const P=R.subscribe(()=>{let C=y.untrack(()=>R.getOptimisticResult(n()));console.log("hee",R),console.log(C),C.error?(P(),h(C.error)):C.data&&(P(),f(C.data))});return b});return y.createEffect(()=>{i.current=!0,e.clearReset();const c=a().subscribe(O.batchCalls(()=>{if(i.current){let f=a().getOptimisticResult(n());n().notifyOnChangeProps==="tracked"&&(f=a().trackResult(f,n())),p(()=>f.data)}}));a().updateResult(),y.onCleanup(()=>{i.current=!1,c()})}),y.createEffect(()=>{a().setOptions(n(),{listeners:!1})}),[l,{refetch:d,mutate:p,query:a()}]}function At(u,r,i){return ke(w({queryKeySignal:u,queryFn:r},i),re)}function Dt(u){const r=$(),i=y.createMemo(()=>u.map(n=>{const s=r.defaultQueryObserverOptions(n);return s.optimisticResults=!0,s}),[u,r]),t=y.createMemo(()=>new Ke(r,i())),e=t().getOptimisticResult(i());return y.createEffect(()=>{const n=t().subscribe(O.batchCalls(()=>{}));return()=>{n()}},[t]),y.createEffect(()=>{t().setQueries(i(),{listeners:!1})},[i,t]),e}function It(u,r,i){return ke(w({queryKeySignal:u,queryFn:r},i),Te)}function Ge(u,r){const i=$(),t=H(r);t.current=r,y.createMemo(()=>{u&&$e(i,u,t.current)},[i,u])}const Ut=u=>(Ge(u.state,u.options),F.memo(()=>u.children));v.CancelledError=he,v.Hydrate=Ut,v.InfiniteQueryObserver=Te,v.MutationCache=Ae,v.MutationObserver=xe,v.QueriesObserver=Ke,v.QueryCache=we,v.QueryClient=ft,v.QueryClientProvider=Rt,v.QueryErrorResetBoundary=Pt,v.QueryObserver=re,v.createMutation=_t,v.createQuery=At,v.dehydrate=Ot,v.focusManager=N,v.hashQueryKey=D,v.hydrate=$e,v.isCancelledError=G,v.isError=et,v.notifyManager=O,v.onlineManager=k,v.setLogger=Ee,v.useHydrate=Ge,v.useInfiniteQuery=It,v.useIsFetching=Et,v.useIsMutating=wt,v.useQueries=Dt,v.useQueryClient=$,v.useQueryErrorResetBoundary=Be,Object.defineProperty(v,"__esModule",{value:!0}),v[Symbol.toStringTag]="Module"});
