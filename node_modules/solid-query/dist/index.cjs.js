"use strict";var Je=Object.defineProperty,Xe=Object.defineProperties;var Ye=Object.getOwnPropertyDescriptors;var be=Object.getOwnPropertySymbols;var Ze=Object.prototype.hasOwnProperty,ze=Object.prototype.propertyIsEnumerable;var ge=(s,n,i)=>n in s?Je(s,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[n]=i,S=(s,n)=>{for(var i in n||(n={}))Ze.call(n,i)&&ge(s,i,n[i]);if(be)for(var i of be(n))ze.call(n,i)&&ge(s,i,n[i]);return s},K=(s,n)=>Xe(s,Ye(n));Object.defineProperty(exports,"__esModule",{value:!0});exports[Symbol.toStringTag]="Module";var b=require("solid-js"),k=require("solid-js/web");function ce(s,n){return ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ce(s,n)}function x(s,n){s.prototype=Object.create(n.prototype),s.prototype.constructor=s,ce(s,n)}var T=function(){function s(){this.listeners=[]}var n=s.prototype;return n.subscribe=function(t){var e=this,r=t||function(){};return this.listeners.push(r),this.onSubscribe(),function(){e.listeners=e.listeners.filter(function(u){return u!==r}),e.onUnsubscribe()}},n.hasListeners=function(){return this.listeners.length>0},n.onSubscribe=function(){},n.onUnsubscribe=function(){},s}();function y(){return y=Object.assign||function(s){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(s[t]=i[t])}return s},y.apply(this,arguments)}var Z=typeof window=="undefined";function Q(){}function et(s,n){return typeof s=="function"?s(n):s}function le(s){return typeof s=="number"&&s>=0&&s!==1/0}function z(s){return Array.isArray(s)?s:[s]}function Oe(s,n){return s.filter(function(i){return n.indexOf(i)===-1})}function tt(s,n,i){var t=s.slice(0);return t[n]=i,t}function Ce(s,n){return Math.max(s+(n||0)-Date.now(),0)}function fe(s,n,i){return re(s)?typeof n=="function"?y({},i,{queryKey:s,queryFn:n}):y({},n,{queryKey:s}):s}function D(s,n,i){return re(s)?[y({},n,{queryKey:s}),i]:[s||{},n]}function rt(s,n){if(s===!0&&n===!0||s==null&&n==null)return"all";if(s===!1&&n===!1)return"none";var i=s!=null?s:!n;return i?"active":"inactive"}function Re(s,n){var i=s.active,t=s.exact,e=s.fetching,r=s.inactive,u=s.predicate,a=s.queryKey,o=s.stale;if(re(a)){if(t){if(n.queryHash!==he(a,n.options))return!1}else if(!ee(n.queryKey,a))return!1}var l=rt(i,r);if(l==="none")return!1;if(l!=="all"){var d=n.isActive();if(l==="active"&&!d||l==="inactive"&&d)return!1}return!(typeof o=="boolean"&&n.isStale()!==o||typeof e=="boolean"&&n.isFetching()!==e||u&&!u(n))}function Pe(s,n){var i=s.exact,t=s.fetching,e=s.predicate,r=s.mutationKey;if(re(r)){if(!n.options.mutationKey)return!1;if(i){if(I(n.options.mutationKey)!==I(r))return!1}else if(!ee(n.options.mutationKey,r))return!1}return!(typeof t=="boolean"&&n.state.status==="loading"!==t||e&&!e(n))}function he(s,n){var i=(n==null?void 0:n.queryKeyHashFn)||I;return i(s)}function I(s){var n=z(s);return nt(n)}function nt(s){return JSON.stringify(s,function(n,i){return de(i)?Object.keys(i).sort().reduce(function(t,e){return t[e]=i[e],t},{}):i})}function ee(s,n){return Qe(z(s),z(n))}function Qe(s,n){return s===n?!0:typeof s!=typeof n?!1:s&&n&&typeof s=="object"&&typeof n=="object"?!Object.keys(n).some(function(i){return!Qe(s[i],n[i])}):!1}function te(s,n){if(s===n)return s;var i=Array.isArray(s)&&Array.isArray(n);if(i||de(s)&&de(n)){for(var t=i?s.length:Object.keys(s).length,e=i?n:Object.keys(n),r=e.length,u=i?[]:{},a=0,o=0;o<r;o++){var l=i?o:e[o];u[l]=te(s[l],n[l]),u[l]===s[l]&&a++}return t===r&&a===t?s:u}return n}function it(s,n){if(s&&!n||n&&!s)return!1;for(var i in s)if(s[i]!==n[i])return!1;return!0}function de(s){if(!Fe(s))return!1;var n=s.constructor;if(typeof n=="undefined")return!0;var i=n.prototype;return!(!Fe(i)||!i.hasOwnProperty("isPrototypeOf"))}function Fe(s){return Object.prototype.toString.call(s)==="[object Object]"}function re(s){return typeof s=="string"||Array.isArray(s)}function st(s){return s instanceof Error}function ut(s){return new Promise(function(n){setTimeout(n,s)})}function Me(s){Promise.resolve().then(s).catch(function(n){return setTimeout(function(){throw n})})}function qe(){if(typeof AbortController=="function")return new AbortController}var at=function(s){x(n,s);function n(){var t;return t=s.call(this)||this,t.setup=function(e){var r;if(!Z&&((r=window)==null?void 0:r.addEventListener)){var u=function(){return e()};return window.addEventListener("visibilitychange",u,!1),window.addEventListener("focus",u,!1),function(){window.removeEventListener("visibilitychange",u),window.removeEventListener("focus",u)}}},t}var i=n.prototype;return i.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},i.onUnsubscribe=function(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}},i.setEventListener=function(e){var r,u=this;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(function(a){typeof a=="boolean"?u.setFocused(a):u.onFocus()})},i.setFocused=function(e){this.focused=e,e&&this.onFocus()},i.onFocus=function(){this.listeners.forEach(function(e){e()})},i.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document=="undefined"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},n}(T),N=new at,ot=function(s){x(n,s);function n(){var t;return t=s.call(this)||this,t.setup=function(e){var r;if(!Z&&((r=window)==null?void 0:r.addEventListener)){var u=function(){return e()};return window.addEventListener("online",u,!1),window.addEventListener("offline",u,!1),function(){window.removeEventListener("online",u),window.removeEventListener("offline",u)}}},t}var i=n.prototype;return i.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},i.onUnsubscribe=function(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}},i.setEventListener=function(e){var r,u=this;this.setup=e,(r=this.cleanup)==null||r.call(this),this.cleanup=e(function(a){typeof a=="boolean"?u.setOnline(a):u.onOnline()})},i.setOnline=function(e){this.online=e,e&&this.onOnline()},i.onOnline=function(){this.listeners.forEach(function(e){e()})},i.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator=="undefined"||typeof navigator.onLine=="undefined"?!0:navigator.onLine},n}(T),G=new ot;function ct(s){return Math.min(1e3*Math.pow(2,s),3e4)}function ne(s){return typeof(s==null?void 0:s.cancel)=="function"}var ve=function(n){this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent};function W(s){return s instanceof ve}var Se=function(n){var i=this,t=!1,e,r,u,a;this.abort=n.abort,this.cancel=function(c){return e==null?void 0:e(c)},this.cancelRetry=function(){t=!0},this.continueRetry=function(){t=!1},this.continue=function(){return r==null?void 0:r()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(c,f){u=c,a=f});var o=function(f){i.isResolved||(i.isResolved=!0,n.onSuccess==null||n.onSuccess(f),r==null||r(),u(f))},l=function(f){i.isResolved||(i.isResolved=!0,n.onError==null||n.onError(f),r==null||r(),a(f))},d=function(){return new Promise(function(f){r=f,i.isPaused=!0,n.onPause==null||n.onPause()}).then(function(){r=void 0,i.isPaused=!1,n.onContinue==null||n.onContinue()})},v=function c(){if(!i.isResolved){var f;try{f=n.fn()}catch(h){f=Promise.reject(h)}e=function(p){if(!i.isResolved&&(l(new ve(p)),i.abort==null||i.abort(),ne(f)))try{f.cancel()}catch{}},i.isTransportCancelable=ne(f),Promise.resolve(f).then(o).catch(function(h){var p,C;if(!i.isResolved){var R=(p=n.retry)!=null?p:3,O=(C=n.retryDelay)!=null?C:ct,m=typeof O=="function"?O(i.failureCount,h):O,E=R===!0||typeof R=="number"&&i.failureCount<R||typeof R=="function"&&R(i.failureCount,h);if(t||!E){l(h);return}i.failureCount++,n.onFail==null||n.onFail(i.failureCount,h),ut(m).then(function(){if(!N.isFocused()||!G.isOnline())return d()}).then(function(){t?l(h):c()})}})}};v()},lt=function(){function s(){this.queue=[],this.transactions=0,this.notifyFn=function(i){i()},this.batchNotifyFn=function(i){i()}}var n=s.prototype;return n.batch=function(t){this.transactions++;var e=t();return this.transactions--,this.transactions||this.flush(),e},n.schedule=function(t){var e=this;this.transactions?this.queue.push(t):Me(function(){e.notifyFn(t)})},n.batchCalls=function(t){var e=this;return function(){for(var r=arguments.length,u=new Array(r),a=0;a<r;a++)u[a]=arguments[a];e.schedule(function(){t.apply(void 0,u)})}},n.flush=function(){var t=this,e=this.queue;this.queue=[],e.length&&Me(function(){t.batchNotifyFn(function(){e.forEach(function(r){t.notifyFn(r)})})})},n.setNotifyFunction=function(t){this.notifyFn=t},n.setBatchNotifyFunction=function(t){this.batchNotifyFn=t},s}(),g=new lt,Ee=console;function ie(){return Ee}function we(s){Ee=s}var ft=function(){function s(i){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=i.defaultOptions,this.setOptions(i.options),this.observers=[],this.cache=i.cache,this.queryKey=i.queryKey,this.queryHash=i.queryHash,this.initialState=i.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=i.meta,this.scheduleGc()}var n=s.prototype;return n.setOptions=function(t){var e;this.options=y({},this.defaultOptions,t),this.meta=t==null?void 0:t.meta,this.cacheTime=Math.max(this.cacheTime||0,(e=this.options.cacheTime)!=null?e:5*60*1e3)},n.setDefaultOptions=function(t){this.defaultOptions=t},n.scheduleGc=function(){var t=this;this.clearGcTimeout(),le(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){t.optionalRemove()},this.cacheTime))},n.clearGcTimeout=function(){clearTimeout(this.gcTimeout),this.gcTimeout=void 0},n.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},n.setData=function(t,e){var r,u,a=this.state.data,o=et(t,a);return((r=(u=this.options).isDataEqual)==null?void 0:r.call(u,a,o))?o=a:this.options.structuralSharing!==!1&&(o=te(a,o)),this.dispatch({data:o,type:"success",dataUpdatedAt:e==null?void 0:e.updatedAt}),o},n.setState=function(t,e){this.dispatch({type:"setState",state:t,setStateOptions:e})},n.cancel=function(t){var e,r=this.promise;return(e=this.retryer)==null||e.cancel(t),r?r.then(Q).catch(Q):Promise.resolve()},n.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},n.reset=function(){this.destroy(),this.setState(this.initialState)},n.isActive=function(){return this.observers.some(function(t){return t.options.enabled!==!1})},n.isFetching=function(){return this.state.isFetching},n.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(t){return t.getCurrentResult().isStale})},n.isStaleByTime=function(t){return t===void 0&&(t=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Ce(this.state.dataUpdatedAt,t)},n.onFocus=function(){var t,e=this.observers.find(function(r){return r.shouldFetchOnWindowFocus()});e&&e.refetch(),(t=this.retryer)==null||t.continue()},n.onOnline=function(){var t,e=this.observers.find(function(r){return r.shouldFetchOnReconnect()});e&&e.refetch(),(t=this.retryer)==null||t.continue()},n.addObserver=function(t){this.observers.indexOf(t)===-1&&(this.observers.push(t),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))},n.removeObserver=function(t){this.observers.indexOf(t)!==-1&&(this.observers=this.observers.filter(function(e){return e!==t}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:t}))},n.getObserversCount=function(){return this.observers.length},n.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},n.fetch=function(t,e){var r=this,u,a,o;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(e==null?void 0:e.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var l;return(l=this.retryer)==null||l.continueRetry(),this.promise}}if(t&&this.setOptions(t),!this.options.queryFn){var d=this.observers.find(function(O){return O.options.queryFn});d&&this.setOptions(d.options)}var v=z(this.queryKey),c=qe(),f={queryKey:v,pageParam:void 0,meta:this.meta};Object.defineProperty(f,"signal",{enumerable:!0,get:function(){if(c)return r.abortSignalConsumed=!0,c.signal}});var h=function(){return r.options.queryFn?(r.abortSignalConsumed=!1,r.options.queryFn(f)):Promise.reject("Missing queryFn")},p={fetchOptions:e,options:this.options,queryKey:v,state:this.state,fetchFn:h,meta:this.meta};if((u=this.options.behavior)==null?void 0:u.onFetch){var C;(C=this.options.behavior)==null||C.onFetch(p)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((a=p.fetchOptions)==null?void 0:a.meta)){var R;this.dispatch({type:"fetch",meta:(R=p.fetchOptions)==null?void 0:R.meta})}return this.retryer=new Se({fn:p.fetchFn,abort:c==null||(o=c.abort)==null?void 0:o.bind(c),onSuccess:function(m){r.setData(m),r.cache.config.onSuccess==null||r.cache.config.onSuccess(m,r),r.cacheTime===0&&r.optionalRemove()},onError:function(m){W(m)&&m.silent||r.dispatch({type:"error",error:m}),W(m)||(r.cache.config.onError==null||r.cache.config.onError(m,r),ie().error(m)),r.cacheTime===0&&r.optionalRemove()},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay}),this.promise=this.retryer.promise,this.promise},n.dispatch=function(t){var e=this;this.state=this.reducer(this.state,t),g.batch(function(){e.observers.forEach(function(r){r.onQueryUpdate(t)}),e.cache.notify({query:e,type:"queryUpdated",action:t})})},n.getDefaultState=function(t){var e=typeof t.initialData=="function"?t.initialData():t.initialData,r=typeof t.initialData!="undefined",u=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0,a=typeof e!="undefined";return{data:e,dataUpdateCount:0,dataUpdatedAt:a?u!=null?u:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:a?"success":"idle"}},n.reducer=function(t,e){var r,u;switch(e.type){case"failed":return y({},t,{fetchFailureCount:t.fetchFailureCount+1});case"pause":return y({},t,{isPaused:!0});case"continue":return y({},t,{isPaused:!1});case"fetch":return y({},t,{fetchFailureCount:0,fetchMeta:(r=e.meta)!=null?r:null,isFetching:!0,isPaused:!1},!t.dataUpdatedAt&&{error:null,status:"loading"});case"success":return y({},t,{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:(u=e.dataUpdatedAt)!=null?u:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var a=e.error;return W(a)&&a.revert&&this.revertState?y({},this.revertState):y({},t,{error:a,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return y({},t,{isInvalidated:!0});case"setState":return y({},t,e.state);default:return t}},s}(),_e=function(s){x(n,s);function n(t){var e;return e=s.call(this)||this,e.config=t||{},e.queries=[],e.queriesMap={},e}var i=n.prototype;return i.build=function(e,r,u){var a,o=r.queryKey,l=(a=r.queryHash)!=null?a:he(o,r),d=this.get(l);return d||(d=new ft({cache:this,queryKey:o,queryHash:l,options:e.defaultQueryOptions(r),state:u,defaultOptions:e.getQueryDefaults(o),meta:r.meta}),this.add(d)),d},i.add=function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"queryAdded",query:e}))},i.remove=function(e){var r=this.queriesMap[e.queryHash];r&&(e.destroy(),this.queries=this.queries.filter(function(u){return u!==e}),r===e&&delete this.queriesMap[e.queryHash],this.notify({type:"queryRemoved",query:e}))},i.clear=function(){var e=this;g.batch(function(){e.queries.forEach(function(r){e.remove(r)})})},i.get=function(e){return this.queriesMap[e]},i.getAll=function(){return this.queries},i.find=function(e,r){var u=D(e,r),a=u[0];return typeof a.exact=="undefined"&&(a.exact=!0),this.queries.find(function(o){return Re(a,o)})},i.findAll=function(e,r){var u=D(e,r),a=u[0];return Object.keys(a).length>0?this.queries.filter(function(o){return Re(a,o)}):this.queries},i.notify=function(e){var r=this;g.batch(function(){r.listeners.forEach(function(u){u(e)})})},i.onFocus=function(){var e=this;g.batch(function(){e.queries.forEach(function(r){r.onFocus()})})},i.onOnline=function(){var e=this;g.batch(function(){e.queries.forEach(function(r){r.onOnline()})})},n}(T),ht=function(){function s(i){this.options=y({},i.defaultOptions,i.options),this.mutationId=i.mutationId,this.mutationCache=i.mutationCache,this.observers=[],this.state=i.state||Ae(),this.meta=i.meta}var n=s.prototype;return n.setState=function(t){this.dispatch({type:"setState",state:t})},n.addObserver=function(t){this.observers.indexOf(t)===-1&&this.observers.push(t)},n.removeObserver=function(t){this.observers=this.observers.filter(function(e){return e!==t})},n.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Q).catch(Q)):Promise.resolve()},n.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},n.execute=function(){var t=this,e,r=this.state.status==="loading",u=Promise.resolve();return r||(this.dispatch({type:"loading",variables:this.options.variables}),u=u.then(function(){t.mutationCache.config.onMutate==null||t.mutationCache.config.onMutate(t.state.variables,t)}).then(function(){return t.options.onMutate==null?void 0:t.options.onMutate(t.state.variables)}).then(function(a){a!==t.state.context&&t.dispatch({type:"loading",context:a,variables:t.state.variables})})),u.then(function(){return t.executeMutation()}).then(function(a){e=a,t.mutationCache.config.onSuccess==null||t.mutationCache.config.onSuccess(e,t.state.variables,t.state.context,t)}).then(function(){return t.options.onSuccess==null?void 0:t.options.onSuccess(e,t.state.variables,t.state.context)}).then(function(){return t.options.onSettled==null?void 0:t.options.onSettled(e,null,t.state.variables,t.state.context)}).then(function(){return t.dispatch({type:"success",data:e}),e}).catch(function(a){return t.mutationCache.config.onError==null||t.mutationCache.config.onError(a,t.state.variables,t.state.context,t),ie().error(a),Promise.resolve().then(function(){return t.options.onError==null?void 0:t.options.onError(a,t.state.variables,t.state.context)}).then(function(){return t.options.onSettled==null?void 0:t.options.onSettled(void 0,a,t.state.variables,t.state.context)}).then(function(){throw t.dispatch({type:"error",error:a}),a})})},n.executeMutation=function(){var t=this,e;return this.retryer=new Se({fn:function(){return t.options.mutationFn?t.options.mutationFn(t.state.variables):Promise.reject("No mutationFn found")},onFail:function(){t.dispatch({type:"failed"})},onPause:function(){t.dispatch({type:"pause"})},onContinue:function(){t.dispatch({type:"continue"})},retry:(e=this.options.retry)!=null?e:0,retryDelay:this.options.retryDelay}),this.retryer.promise},n.dispatch=function(t){var e=this;this.state=dt(this.state,t),g.batch(function(){e.observers.forEach(function(r){r.onMutationUpdate(t)}),e.mutationCache.notify(e)})},s}();function Ae(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function dt(s,n){switch(n.type){case"failed":return y({},s,{failureCount:s.failureCount+1});case"pause":return y({},s,{isPaused:!0});case"continue":return y({},s,{isPaused:!1});case"loading":return y({},s,{context:n.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:n.variables});case"success":return y({},s,{data:n.data,error:null,status:"success",isPaused:!1});case"error":return y({},s,{data:void 0,error:n.error,failureCount:s.failureCount+1,isPaused:!1,status:"error"});case"setState":return y({},s,n.state);default:return s}}var xe=function(s){x(n,s);function n(t){var e;return e=s.call(this)||this,e.config=t||{},e.mutations=[],e.mutationId=0,e}var i=n.prototype;return i.build=function(e,r,u){var a=new ht({mutationCache:this,mutationId:++this.mutationId,options:e.defaultMutationOptions(r),state:u,defaultOptions:r.mutationKey?e.getMutationDefaults(r.mutationKey):void 0,meta:r.meta});return this.add(a),a},i.add=function(e){this.mutations.push(e),this.notify(e)},i.remove=function(e){this.mutations=this.mutations.filter(function(r){return r!==e}),e.cancel(),this.notify(e)},i.clear=function(){var e=this;g.batch(function(){e.mutations.forEach(function(r){e.remove(r)})})},i.getAll=function(){return this.mutations},i.find=function(e){return typeof e.exact=="undefined"&&(e.exact=!0),this.mutations.find(function(r){return Pe(e,r)})},i.findAll=function(e){return this.mutations.filter(function(r){return Pe(e,r)})},i.notify=function(e){var r=this;g.batch(function(){r.listeners.forEach(function(u){u(e)})})},i.onFocus=function(){this.resumePausedMutations()},i.onOnline=function(){this.resumePausedMutations()},i.resumePausedMutations=function(){var e=this.mutations.filter(function(r){return r.state.isPaused});return g.batch(function(){return e.reduce(function(r,u){return r.then(function(){return u.continue().catch(Q)})},Promise.resolve())})},n}(T);function ye(){return{onFetch:function(n){n.fetchFn=function(){var i,t,e,r,u,a,o=(i=n.fetchOptions)==null||(t=i.meta)==null?void 0:t.refetchPage,l=(e=n.fetchOptions)==null||(r=e.meta)==null?void 0:r.fetchMore,d=l==null?void 0:l.pageParam,v=(l==null?void 0:l.direction)==="forward",c=(l==null?void 0:l.direction)==="backward",f=((u=n.state.data)==null?void 0:u.pages)||[],h=((a=n.state.data)==null?void 0:a.pageParams)||[],p=qe(),C=p==null?void 0:p.signal,R=h,O=!1,m=n.options.queryFn||function(){return Promise.reject("Missing queryFn")},E=function(_,L,q,B){return R=B?[L].concat(R):[].concat(R,[L]),B?[q].concat(_):[].concat(_,[q])},w=function(_,L,q,B){if(O)return Promise.reject("Cancelled");if(typeof q=="undefined"&&!L&&_.length)return Promise.resolve(_);var A={queryKey:n.queryKey,signal:C,pageParam:q,meta:n.meta},U=m(A),Y=Promise.resolve(U).then(function(Ve){return E(_,q,Ve,B)});if(ne(U)){var oe=Y;oe.cancel=U.cancel}return Y},P;if(!f.length)P=w([]);else if(v){var H=typeof d!="undefined",ue=H?d:pe(n.options,f);P=w(f,H,ue)}else if(c){var J=typeof d!="undefined",X=J?d:De(n.options,f);P=w(f,J,X,!0)}else(function(){R=[];var F=typeof n.options.getNextPageParam=="undefined",_=o&&f[0]?o(f[0],0,f):!0;P=_?w([],F,h[0]):Promise.resolve(E([],h[0],f[0]));for(var L=function(A){P=P.then(function(U){var Y=o&&f[A]?o(f[A],A,f):!0;if(Y){var oe=F?h[A]:pe(n.options,U);return w(U,F,oe)}return Promise.resolve(E(U,h[A],f[A]))})},q=1;q<f.length;q++)L(q)})();var M=P.then(function(F){return{pages:F,pageParams:R}}),ae=M;return ae.cancel=function(){O=!0,p==null||p.abort(),ne(P)&&P.cancel()},M}}}}function pe(s,n){return s.getNextPageParam==null?void 0:s.getNextPageParam(n[n.length-1],n)}function De(s,n){return s.getPreviousPageParam==null?void 0:s.getPreviousPageParam(n[0],n)}function vt(s,n){if(s.getNextPageParam&&Array.isArray(n)){var i=pe(s,n);return typeof i!="undefined"&&i!==null&&i!==!1}}function yt(s,n){if(s.getPreviousPageParam&&Array.isArray(n)){var i=De(s,n);return typeof i!="undefined"&&i!==null&&i!==!1}}var pt=function(){function s(i){i===void 0&&(i={}),this.queryCache=i.queryCache||new _e,this.mutationCache=i.mutationCache||new xe,this.defaultOptions=i.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var n=s.prototype;return n.mount=function(){var t=this;this.unsubscribeFocus=N.subscribe(function(){N.isFocused()&&G.isOnline()&&(t.mutationCache.onFocus(),t.queryCache.onFocus())}),this.unsubscribeOnline=G.subscribe(function(){N.isFocused()&&G.isOnline()&&(t.mutationCache.onOnline(),t.queryCache.onOnline())})},n.unmount=function(){var t,e;(t=this.unsubscribeFocus)==null||t.call(this),(e=this.unsubscribeOnline)==null||e.call(this)},n.isFetching=function(t,e){var r=D(t,e),u=r[0];return u.fetching=!0,this.queryCache.findAll(u).length},n.isMutating=function(t){return this.mutationCache.findAll(y({},t,{fetching:!0})).length},n.getQueryData=function(t,e){var r;return(r=this.queryCache.find(t,e))==null?void 0:r.state.data},n.getQueriesData=function(t){return this.getQueryCache().findAll(t).map(function(e){var r=e.queryKey,u=e.state,a=u.data;return[r,a]})},n.setQueryData=function(t,e,r){var u=fe(t),a=this.defaultQueryOptions(u);return this.queryCache.build(this,a).setData(e,r)},n.setQueriesData=function(t,e,r){var u=this;return g.batch(function(){return u.getQueryCache().findAll(t).map(function(a){var o=a.queryKey;return[o,u.setQueryData(o,e,r)]})})},n.getQueryState=function(t,e){var r;return(r=this.queryCache.find(t,e))==null?void 0:r.state},n.removeQueries=function(t,e){var r=D(t,e),u=r[0],a=this.queryCache;g.batch(function(){a.findAll(u).forEach(function(o){a.remove(o)})})},n.resetQueries=function(t,e,r){var u=this,a=D(t,e,r),o=a[0],l=a[1],d=this.queryCache,v=y({},o,{active:!0});return g.batch(function(){return d.findAll(o).forEach(function(c){c.reset()}),u.refetchQueries(v,l)})},n.cancelQueries=function(t,e,r){var u=this,a=D(t,e,r),o=a[0],l=a[1],d=l===void 0?{}:l;typeof d.revert=="undefined"&&(d.revert=!0);var v=g.batch(function(){return u.queryCache.findAll(o).map(function(c){return c.cancel(d)})});return Promise.all(v).then(Q).catch(Q)},n.invalidateQueries=function(t,e,r){var u,a,o,l=this,d=D(t,e,r),v=d[0],c=d[1],f=y({},v,{active:(u=(a=v.refetchActive)!=null?a:v.active)!=null?u:!0,inactive:(o=v.refetchInactive)!=null?o:!1});return g.batch(function(){return l.queryCache.findAll(v).forEach(function(h){h.invalidate()}),l.refetchQueries(f,c)})},n.refetchQueries=function(t,e,r){var u=this,a=D(t,e,r),o=a[0],l=a[1],d=g.batch(function(){return u.queryCache.findAll(o).map(function(c){return c.fetch(void 0,y({},l,{meta:{refetchPage:o==null?void 0:o.refetchPage}}))})}),v=Promise.all(d).then(Q);return(l==null?void 0:l.throwOnError)||(v=v.catch(Q)),v},n.fetchQuery=function(t,e,r){var u=fe(t,e,r),a=this.defaultQueryOptions(u);typeof a.retry=="undefined"&&(a.retry=!1);var o=this.queryCache.build(this,a);return o.isStaleByTime(a.staleTime)?o.fetch(a):Promise.resolve(o.state.data)},n.prefetchQuery=function(t,e,r){return this.fetchQuery(t,e,r).then(Q).catch(Q)},n.fetchInfiniteQuery=function(t,e,r){var u=fe(t,e,r);return u.behavior=ye(),this.fetchQuery(u)},n.prefetchInfiniteQuery=function(t,e,r){return this.fetchInfiniteQuery(t,e,r).then(Q).catch(Q)},n.cancelMutations=function(){var t=this,e=g.batch(function(){return t.mutationCache.getAll().map(function(r){return r.cancel()})});return Promise.all(e).then(Q).catch(Q)},n.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},n.executeMutation=function(t){return this.mutationCache.build(this,t).execute()},n.getQueryCache=function(){return this.queryCache},n.getMutationCache=function(){return this.mutationCache},n.getDefaultOptions=function(){return this.defaultOptions},n.setDefaultOptions=function(t){this.defaultOptions=t},n.setQueryDefaults=function(t,e){var r=this.queryDefaults.find(function(u){return I(t)===I(u.queryKey)});r?r.defaultOptions=e:this.queryDefaults.push({queryKey:t,defaultOptions:e})},n.getQueryDefaults=function(t){var e;return t?(e=this.queryDefaults.find(function(r){return ee(t,r.queryKey)}))==null?void 0:e.defaultOptions:void 0},n.setMutationDefaults=function(t,e){var r=this.mutationDefaults.find(function(u){return I(t)===I(u.mutationKey)});r?r.defaultOptions=e:this.mutationDefaults.push({mutationKey:t,defaultOptions:e})},n.getMutationDefaults=function(t){var e;return t?(e=this.mutationDefaults.find(function(r){return ee(t,r.mutationKey)}))==null?void 0:e.defaultOptions:void 0},n.defaultQueryOptions=function(t){if(t==null?void 0:t._defaulted)return t;var e=y({},this.defaultOptions.queries,this.getQueryDefaults(t==null?void 0:t.queryKey),t,{_defaulted:!0});return!e.queryHash&&e.queryKey&&(e.queryHash=he(e.queryKey,e)),e},n.defaultQueryObserverOptions=function(t){return this.defaultQueryOptions(t)},n.defaultMutationOptions=function(t){return(t==null?void 0:t._defaulted)?t:y({},this.defaultOptions.mutations,this.getMutationDefaults(t==null?void 0:t.mutationKey),t,{_defaulted:!0})},n.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},s}(),se=function(s){x(n,s);function n(t,e){var r;return r=s.call(this)||this,r.client=t,r.options=e,r.trackedProps=[],r.previousSelectError=null,r.bindMethods(),r.setOptions(e),r}var i=n.prototype;return i.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},i.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),Ie(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},i.onUnsubscribe=function(){this.listeners.length||this.destroy()},i.shouldFetchOnReconnect=function(){return gt(this.currentQuery,this.options)},i.shouldFetchOnWindowFocus=function(){return Ot(this.currentQuery,this.options)},i.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},i.setOptions=function(e,r){var u=this.options,a=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(e),typeof this.options.enabled!="undefined"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=u.queryKey),this.updateQuery();var o=this.hasListeners();o&&Ue(this.currentQuery,a,this.options,u)&&this.executeFetch(),this.updateResult(r),o&&(this.currentQuery!==a||this.options.enabled!==u.enabled||this.options.staleTime!==u.staleTime)&&this.updateStaleTimeout();var l=this.computeRefetchInterval();o&&(this.currentQuery!==a||this.options.enabled!==u.enabled||l!==this.currentRefetchInterval)&&this.updateRefetchInterval(l)},i.getOptimisticResult=function(e){var r=this.client.defaultQueryObserverOptions(e),u=this.client.getQueryCache().build(this.client,r);return this.createResult(u,r)},i.getCurrentResult=function(){return this.currentResult},i.trackResult=function(e,r){var u=this,a={},o=function(d){u.trackedProps.includes(d)||u.trackedProps.push(d)};return Object.keys(e).forEach(function(l){Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:function(){return o(l),e[l]}})}),(r.useErrorBoundary||r.suspense)&&o("error"),a},i.getNextResult=function(e){var r=this;return new Promise(function(u,a){var o=r.subscribe(function(l){l.isFetching||(o(),l.isError&&(e==null?void 0:e.throwOnError)?a(l.error):u(l))})})},i.getCurrentQuery=function(){return this.currentQuery},i.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},i.refetch=function(e){return this.fetch(y({},e,{meta:{refetchPage:e==null?void 0:e.refetchPage}}))},i.fetchOptimistic=function(e){var r=this,u=this.client.defaultQueryObserverOptions(e),a=this.client.getQueryCache().build(this.client,u);return a.fetch().then(function(){return r.createResult(a,u)})},i.fetch=function(e){var r=this;return this.executeFetch(e).then(function(){return r.updateResult(),r.currentResult})},i.executeFetch=function(e){this.updateQuery();var r=this.currentQuery.fetch(this.options,e);return(e==null?void 0:e.throwOnError)||(r=r.catch(Q)),r},i.updateStaleTimeout=function(){var e=this;if(this.clearStaleTimeout(),!(Z||this.currentResult.isStale||!le(this.options.staleTime))){var r=Ce(this.currentResult.dataUpdatedAt,this.options.staleTime),u=r+1;this.staleTimeoutId=setTimeout(function(){e.currentResult.isStale||e.updateResult()},u)}},i.computeRefetchInterval=function(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1},i.updateRefetchInterval=function(e){var r=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!(Z||this.options.enabled===!1||!le(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(r.options.refetchIntervalInBackground||N.isFocused())&&r.executeFetch()},this.currentRefetchInterval))},i.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},i.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},i.clearStaleTimeout=function(){clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0},i.clearRefetchInterval=function(){clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0},i.createResult=function(e,r){var u=this.currentQuery,a=this.options,o=this.currentResult,l=this.currentResultState,d=this.currentResultOptions,v=e!==u,c=v?e.state:this.currentQueryInitialState,f=v?this.currentResult:this.previousQueryResult,h=e.state,p=h.dataUpdatedAt,C=h.error,R=h.errorUpdatedAt,O=h.isFetching,m=h.status,E=!1,w=!1,P;if(r.optimisticResults){var H=this.hasListeners(),ue=!H&&Ie(e,r),J=H&&Ue(e,u,r,a);(ue||J)&&(O=!0,p||(m="loading"))}if(r.keepPreviousData&&!h.dataUpdateCount&&(f==null?void 0:f.isSuccess)&&m!=="error")P=f.data,p=f.dataUpdatedAt,m=f.status,E=!0;else if(r.select&&typeof h.data!="undefined"){var X;if(o&&h.data===(l==null?void 0:l.data)&&r.select===((X=this.previousSelect)==null?void 0:X.fn)&&!this.previousSelectError)P=this.previousSelect.result;else try{P=r.select(h.data),r.structuralSharing!==!1&&(P=te(o==null?void 0:o.data,P)),this.previousSelect={fn:r.select,result:P},this.previousSelectError=null}catch(F){ie().error(F),C=F,this.previousSelectError=F,R=Date.now(),m="error"}}else P=h.data;if(typeof r.placeholderData!="undefined"&&typeof P=="undefined"&&(m==="loading"||m==="idle")){var M;if((o==null?void 0:o.isPlaceholderData)&&r.placeholderData===(d==null?void 0:d.placeholderData))M=o.data;else if(M=typeof r.placeholderData=="function"?r.placeholderData():r.placeholderData,r.select&&typeof M!="undefined")try{M=r.select(M),r.structuralSharing!==!1&&(M=te(o==null?void 0:o.data,M)),this.previousSelectError=null}catch(F){ie().error(F),C=F,this.previousSelectError=F,R=Date.now(),m="error"}typeof M!="undefined"&&(m="success",P=M,w=!0)}var ae={status:m,isLoading:m==="loading",isSuccess:m==="success",isError:m==="error",isIdle:m==="idle",data:P,dataUpdatedAt:p,error:C,errorUpdatedAt:R,failureCount:h.fetchFailureCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:O,isRefetching:O&&m!=="loading",isLoadingError:m==="error"&&h.dataUpdatedAt===0,isPlaceholderData:w,isPreviousData:E,isRefetchError:m==="error"&&h.dataUpdatedAt!==0,isStale:V(e,r),refetch:this.refetch,remove:this.remove};return ae},i.shouldNotifyListeners=function(e,r){if(!r)return!0;var u=this.options,a=u.notifyOnChangeProps,o=u.notifyOnChangePropsExclusions;if(!a&&!o||a==="tracked"&&!this.trackedProps.length)return!0;var l=a==="tracked"?this.trackedProps:a;return Object.keys(e).some(function(d){var v=d,c=e[v]!==r[v],f=l==null?void 0:l.some(function(p){return p===d}),h=o==null?void 0:o.some(function(p){return p===d});return c&&!h&&(!l||f)})},i.updateResult=function(e){var r=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!it(this.currentResult,r)){var u={cache:!0};(e==null?void 0:e.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,r)&&(u.listeners=!0),this.notify(y({},u,e))}},i.updateQuery=function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var r=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))}},i.onQueryUpdate=function(e){var r={};e.type==="success"?r.onSuccess=!0:e.type==="error"&&!W(e.error)&&(r.onError=!0),this.updateResult(r),this.hasListeners()&&this.updateTimers()},i.notify=function(e){var r=this;g.batch(function(){e.onSuccess?(r.options.onSuccess==null||r.options.onSuccess(r.currentResult.data),r.options.onSettled==null||r.options.onSettled(r.currentResult.data,null)):e.onError&&(r.options.onError==null||r.options.onError(r.currentResult.error),r.options.onSettled==null||r.options.onSettled(void 0,r.currentResult.error)),e.listeners&&r.listeners.forEach(function(u){u(r.currentResult)}),e.cache&&r.client.getQueryCache().notify({query:r.currentQuery,type:"observerResultsUpdated"})})},n}(T);function mt(s,n){return n.enabled!==!1&&!s.state.dataUpdatedAt&&!(s.state.status==="error"&&n.retryOnMount===!1)}function bt(s,n){return n.enabled!==!1&&s.state.dataUpdatedAt>0&&(n.refetchOnMount==="always"||n.refetchOnMount!==!1&&V(s,n))}function Ie(s,n){return mt(s,n)||bt(s,n)}function gt(s,n){return n.enabled!==!1&&(n.refetchOnReconnect==="always"||n.refetchOnReconnect!==!1&&V(s,n))}function Ot(s,n){return n.enabled!==!1&&(n.refetchOnWindowFocus==="always"||n.refetchOnWindowFocus!==!1&&V(s,n))}function Ue(s,n,i,t){return i.enabled!==!1&&(s!==n||t.enabled===!1)&&(!i.suspense||s.state.status!=="error")&&V(s,i)}function V(s,n){return s.isStaleByTime(n.staleTime)}var Ke=function(s){x(n,s);function n(t,e){var r;return r=s.call(this)||this,r.client=t,r.queries=[],r.result=[],r.observers=[],r.observersMap={},e&&r.setQueries(e),r}var i=n.prototype;return i.onSubscribe=function(){var e=this;this.listeners.length===1&&this.observers.forEach(function(r){r.subscribe(function(u){e.onUpdate(r,u)})})},i.onUnsubscribe=function(){this.listeners.length||this.destroy()},i.destroy=function(){this.listeners=[],this.observers.forEach(function(e){e.destroy()})},i.setQueries=function(e,r){this.queries=e,this.updateObservers(r)},i.getCurrentResult=function(){return this.result},i.getOptimisticResult=function(e){return this.findMatchingObservers(e).map(function(r){return r.observer.getOptimisticResult(r.defaultedQueryOptions)})},i.findMatchingObservers=function(e){var r=this,u=this.observers,a=e.map(function(h){return r.client.defaultQueryObserverOptions(h)}),o=a.flatMap(function(h){var p=u.find(function(C){return C.options.queryHash===h.queryHash});return p!=null?[{defaultedQueryOptions:h,observer:p}]:[]}),l=o.map(function(h){return h.defaultedQueryOptions.queryHash}),d=a.filter(function(h){return!l.includes(h.queryHash)}),v=u.filter(function(h){return!o.some(function(p){return p.observer===h})}),c=d.map(function(h,p){if(h.keepPreviousData){var C=v[p];if(C!==void 0)return{defaultedQueryOptions:h,observer:C}}return{defaultedQueryOptions:h,observer:r.getObserver(h)}}),f=function(p,C){return a.indexOf(p.defaultedQueryOptions)-a.indexOf(C.defaultedQueryOptions)};return o.concat(c).sort(f)},i.getObserver=function(e){var r=this.client.defaultQueryObserverOptions(e),u=this.observersMap[r.queryHash];return u!=null?u:new se(this.client,r)},i.updateObservers=function(e){var r=this;g.batch(function(){var u=r.observers,a=r.findMatchingObservers(r.queries);a.forEach(function(c){return c.observer.setOptions(c.defaultedQueryOptions,e)});var o=a.map(function(c){return c.observer}),l=Object.fromEntries(o.map(function(c){return[c.options.queryHash,c]})),d=o.map(function(c){return c.getCurrentResult()}),v=o.some(function(c,f){return c!==u[f]});u.length===o.length&&!v||(r.observers=o,r.observersMap=l,r.result=d,!!r.hasListeners()&&(Oe(u,o).forEach(function(c){c.destroy()}),Oe(o,u).forEach(function(c){c.subscribe(function(f){r.onUpdate(c,f)})}),r.notify()))})},i.onUpdate=function(e,r){var u=this.observers.indexOf(e);u!==-1&&(this.result=tt(this.result,u,r),this.notify())},i.notify=function(){var e=this;g.batch(function(){e.listeners.forEach(function(r){r(e.result)})})},n}(T),Te=function(s){x(n,s);function n(t,e){return s.call(this,t,e)||this}var i=n.prototype;return i.bindMethods=function(){s.prototype.bindMethods.call(this),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)},i.setOptions=function(e,r){s.prototype.setOptions.call(this,y({},e,{behavior:ye()}),r)},i.getOptimisticResult=function(e){return e.behavior=ye(),s.prototype.getOptimisticResult.call(this,e)},i.fetchNextPage=function(e){var r;return this.fetch({cancelRefetch:(r=e==null?void 0:e.cancelRefetch)!=null?r:!0,throwOnError:e==null?void 0:e.throwOnError,meta:{fetchMore:{direction:"forward",pageParam:e==null?void 0:e.pageParam}}})},i.fetchPreviousPage=function(e){var r;return this.fetch({cancelRefetch:(r=e==null?void 0:e.cancelRefetch)!=null?r:!0,throwOnError:e==null?void 0:e.throwOnError,meta:{fetchMore:{direction:"backward",pageParam:e==null?void 0:e.pageParam}}})},i.createResult=function(e,r){var u,a,o,l,d,v,c=e.state,f=s.prototype.createResult.call(this,e,r);return y({},f,{fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:vt(r,(u=c.data)==null?void 0:u.pages),hasPreviousPage:yt(r,(a=c.data)==null?void 0:a.pages),isFetchingNextPage:c.isFetching&&((o=c.fetchMeta)==null||(l=o.fetchMore)==null?void 0:l.direction)==="forward",isFetchingPreviousPage:c.isFetching&&((d=c.fetchMeta)==null||(v=d.fetchMore)==null?void 0:v.direction)==="backward"})},n}(se),$e=function(s){x(n,s);function n(t,e){var r;return r=s.call(this)||this,r.client=t,r.setOptions(e),r.bindMethods(),r.updateResult(),r}var i=n.prototype;return i.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},i.setOptions=function(e){this.options=this.client.defaultMutationOptions(e)},i.onUnsubscribe=function(){if(!this.listeners.length){var e;(e=this.currentMutation)==null||e.removeObserver(this)}},i.onMutationUpdate=function(e){this.updateResult();var r={listeners:!0};e.type==="success"?r.onSuccess=!0:e.type==="error"&&(r.onError=!0),this.notify(r)},i.getCurrentResult=function(){return this.currentResult},i.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},i.mutate=function(e,r){return this.mutateOptions=r,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,y({},this.options,{variables:typeof e!="undefined"?e:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},i.updateResult=function(){var e=this.currentMutation?this.currentMutation.state:Ae(),r=y({},e,{isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=r},i.notify=function(e){var r=this;g.batch(function(){r.mutateOptions&&(e.onSuccess?(r.mutateOptions.onSuccess==null||r.mutateOptions.onSuccess(r.currentResult.data,r.currentResult.variables,r.currentResult.context),r.mutateOptions.onSettled==null||r.mutateOptions.onSettled(r.currentResult.data,null,r.currentResult.variables,r.currentResult.context)):e.onError&&(r.mutateOptions.onError==null||r.mutateOptions.onError(r.currentResult.error,r.currentResult.variables,r.currentResult.context),r.mutateOptions.onSettled==null||r.mutateOptions.onSettled(void 0,r.currentResult.error,r.currentResult.variables,r.currentResult.context))),e.listeners&&r.listeners.forEach(function(u){u(r.currentResult)})})},n}(T);function Ct(s){return{mutationKey:s.options.mutationKey,state:s.state}}function Rt(s){return{state:s.state,queryKey:s.queryKey,queryHash:s.queryHash}}function Pt(s){return s.state.isPaused}function Qt(s){return s.state.status==="success"}function Ft(s,n){var i,t;n=n||{};var e=[],r=[];if(((i=n)==null?void 0:i.dehydrateMutations)!==!1){var u=n.shouldDehydrateMutation||Pt;s.getMutationCache().getAll().forEach(function(o){u(o)&&e.push(Ct(o))})}if(((t=n)==null?void 0:t.dehydrateQueries)!==!1){var a=n.shouldDehydrateQuery||Qt;s.getQueryCache().getAll().forEach(function(o){a(o)&&r.push(Rt(o))})}return{mutations:e,queries:r}}function Le(s,n,i){if(!(typeof n!="object"||n===null)){var t=s.getMutationCache(),e=s.getQueryCache(),r=n.mutations||[],u=n.queries||[];r.forEach(function(a){var o;t.build(s,y({},i==null||(o=i.defaultOptions)==null?void 0:o.mutations,{mutationKey:a.mutationKey}),a.state)}),u.forEach(function(a){var o,l=e.get(a.queryHash);if(l){l.state.dataUpdatedAt<a.state.dataUpdatedAt&&l.setState(a.state);return}e.build(s,y({},i==null||(o=i.defaultOptions)==null?void 0:o.queries,{queryKey:a.queryKey,queryHash:a.queryHash}),a.state)})}}g.setBatchNotifyFunction(b.batch);const Mt=console;we(Mt);const qt=b.createContext(void 0),Ne=b.createContext(!1);function je(s){return qt}const $=()=>{const s=b.useContext(je(b.useContext(Ne)));if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},St=s=>{s=b.mergeProps({},{contextSharing:!1},s),b.createEffect(()=>{s.client.mount(),b.onCleanup(()=>{s.client.unmount()})});const n=je(s.contextSharing);return k.createComponent(Ne.Provider,{get value(){return s.contextSharing},get children(){return k.createComponent(n.Provider,{get value(){return s.client},get children(){return s.children}})}})};function He(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}const Be=b.createContext(He()),ke=()=>b.useContext(Be),Et=s=>{const n=b.createMemo(()=>He());return k.createComponent(Be.Provider,{get value(){return n()},get children(){return k.memo(()=>typeof s.children=="function",!0)()?s.children(n):s.children}})};function wt(){}function _t(s,n,i){return me(s)?typeof n=="function"?K(S({},i),{mutationKey:s,mutationFn:n}):K(S({},n),{mutationKey:s}):typeof s=="function"?K(S({},n),{mutationFn:s}):S({},s)}function At(s,n,i){return me(s)?[K(S({},n),{queryKey:s}),i]:[s||{},n]}function xt(s,n){return me(s)?K(S({},n),{mutationKey:s}):s}function me(s){return typeof s=="string"||Array.isArray(s)}function Dt(s,n,i){return typeof n=="function"?n(i):typeof n=="boolean"?n:!!s}function j(s=null){return{current:s}}function It(s,n){const i=j(!1),t=$(),[e]=At(s,n),[r,u]=b.createSignal(t.isFetching(e));return b.createEffect(()=>{i.current=!0;const a=t.getQueryCache().subscribe(g.batchCalls(()=>{if(i.current){const o=t.isFetching(e);r()!==o&&u(o)}}));return()=>{i.current=!1,a()}},[t]),r}function Ut(s,n){const i=j(!1),t=xt(s,n),e=$(),[r,u]=b.createSignal(e.isMutating(t));return b.createEffect(()=>{i.current=!0;const a=e.getMutationCache().subscribe(g.batchCalls(()=>{if(i.current){const o=e.isMutating(t);r()!==o&&u(o)}}));return()=>{i.current=!1,a()}},[e]),r}function Kt(s,n,i){const t=j(!1),[,e]=b.createSignal(0),r=_t(s,n,i),u=$(),a=j();a.current?a.current.setOptions(r):a.current=new $e(u,r);const o=a.current.getCurrentResult();b.createEffect(()=>{t.current=!0;const d=a.current.subscribe(g.batchCalls(()=>{t.current&&e(v=>v+1)}));return()=>{t.current=!1,d()}},[]);const l=(d,v)=>{a.current.mutate(d,v).catch(wt)};if(o.error&&Dt(void 0,a.current.options.useErrorBoundary,o.error))throw o.error;return K(S({},o),{mutate:l,mutateAsync:o.mutate})}function Ge(s,n){const i=j(!1),t=$(),e=ke(),[r,u]=b.createSignal(s);b.createComputed(()=>{s.queryKey=typeof s.queryKeySignal=="function"?s.queryKeySignal():s.queryKeySignal,console.log(s.queryKey);let c=t.defaultQueryObserverOptions(s);c.optimisticResults=!0,c.onError&&(c.onError=g.batchCalls(c.onError)),c.onSuccess&&(c.onSuccess=g.batchCalls(c.onSuccess)),c.onSettled&&(c.onSettled=g.batchCalls(c.onSettled)),c.suspense&&(typeof c.staleTime!="number"&&(c.staleTime=1e3),c.cacheTime===0&&(c.cacheTime=1)),(c.suspense||c.useErrorBoundary)&&(e.isReset()||(c.retryOnMount=!1)),u(c)});const a=b.createMemo(()=>new n(t,r())),o=()=>a().getOptimisticResult(r()),[l,{refetch:d,mutate:v}]=b.createResource(()=>r().queryKey,()=>{let c=o();if(console.log("heree",c),c.data)return c.data;let f,h;const p=new Promise((O,m)=>{f=O,h=m});let C=a();const R=C.subscribe(()=>{let O=b.untrack(()=>C.getOptimisticResult(r()));console.log("hee",C),console.log(O),O.error?(R(),h(O.error)):O.data&&(R(),f(O.data))});return p});return b.createEffect(()=>{i.current=!0,e.clearReset();const c=a().subscribe(g.batchCalls(()=>{if(i.current){let f=a().getOptimisticResult(r());r().notifyOnChangeProps==="tracked"&&(f=a().trackResult(f,r())),v(()=>f.data)}}));a().updateResult(),b.onCleanup(()=>{i.current=!1,c()})}),b.createEffect(()=>{a().setOptions(r(),{listeners:!1})}),[l,{refetch:d,mutate:v,query:a()}]}function Tt(s,n,i){return Ge(S({queryKeySignal:s,queryFn:n},i),se)}function $t(s){const n=$(),i=b.createMemo(()=>s.map(r=>{const u=n.defaultQueryObserverOptions(r);return u.optimisticResults=!0,u}),[s,n]),t=b.createMemo(()=>new Ke(n,i())),e=t().getOptimisticResult(i());return b.createEffect(()=>{const r=t().subscribe(g.batchCalls(()=>{}));return()=>{r()}},[t]),b.createEffect(()=>{t().setQueries(i(),{listeners:!1})},[i,t]),e}function Lt(s,n,i){return Ge(S({queryKeySignal:s,queryFn:n},i),Te)}function We(s,n){const i=$(),t=j(n);t.current=n,b.createMemo(()=>{s&&Le(i,s,t.current)},[i,s])}const Nt=s=>(We(s.state,s.options),k.memo(()=>s.children));exports.CancelledError=ve;exports.Hydrate=Nt;exports.InfiniteQueryObserver=Te;exports.MutationCache=xe;exports.MutationObserver=$e;exports.QueriesObserver=Ke;exports.QueryCache=_e;exports.QueryClient=pt;exports.QueryClientProvider=St;exports.QueryErrorResetBoundary=Et;exports.QueryObserver=se;exports.createMutation=Kt;exports.createQuery=Tt;exports.dehydrate=Ft;exports.focusManager=N;exports.hashQueryKey=I;exports.hydrate=Le;exports.isCancelledError=W;exports.isError=st;exports.notifyManager=g;exports.onlineManager=G;exports.setLogger=we;exports.useHydrate=We;exports.useInfiniteQuery=Lt;exports.useIsFetching=It;exports.useIsMutating=Ut;exports.useQueries=$t;exports.useQueryClient=$;exports.useQueryErrorResetBoundary=ke;
